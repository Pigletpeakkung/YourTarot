<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Writing Showcase | PegeArts - Cultural AI Innovation</title>
    <meta name="description" content="Explore technical articles, cultural insights, and creative writing from Thanatsitt Santisamranwilai covering AI development, VTuber technology, and cross-cultural design.">
    
    <!-- SEO Meta Tags -->
    <meta property="og:title" content="Writing Showcase | PegeArts - Cultural AI Innovation">
    <meta property="og:description" content="Explore technical articles, cultural insights, and creative writing covering AI development, VTuber technology, and cross-cultural design.">
    <meta property="og:image" content="https://images.unsplash.com/photo-1677442136019-21780ecad995?w=1200&h=630&fit=crop">
    <meta property="og:url" content="https://pegearts.com/writing">
    <meta name="twitter:card" content="summary_large_image">
    
    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Your existing CSS variables and base styles would go here -->
    <style>
        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --accent-color: #f093fb;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --error-color: #ef4444;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --white: #ffffff;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            --background: #ffffff;
            --surface: #f8fafc;
            --border: #e2e8f0;
            --shadow: rgba(0, 0, 0, 0.1);
            
            /* Dark theme colors */
            --dark-bg: #0f172a;
            --dark-surface: #1e293b;
            --dark-card: #334155;
            --dark-border: #475569;
            --dark-text: #f1f5f9;
            --dark-text-secondary: #cbd5e1;
            
            /* Color RGB values for alpha channels */
            --primary-rgb: 102, 126, 234;
            --secondary-rgb: 118, 75, 162;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--background);
            transition: all 0.3s ease;
        }

        .dark-theme {
            --background: var(--dark-bg);
            --surface: var(--dark-surface);
            --text-primary: var(--dark-text);
            --text-secondary: var(--dark-text-secondary);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: var(--gray-200);
            color: var(--text-primary);
        }

        .dark-theme .btn-secondary {
            background: var(--dark-border);
            color: var(--dark-text);
        }

        .btn-secondary:hover {
            background: var(--gray-300);
        }

        .dark-theme .btn-secondary:hover {
            background: var(--dark-card);
        }

        /* Enhanced CSS for Writing Showcase */
        .writing-showcase {
            padding-top: 6rem;
            min-height: 100vh;
        }

        /* Hero Section */
        .hero-section {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 6rem 0 4rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 100" fill="white" opacity="0.1"><polygon points="0,0 1000,0 1000,100"/></svg>');
            background-size: 100% 100%;
        }

        .hero-content {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 1;
        }

        .hero-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(3rem, 6vw, 5rem);
            font-weight: 700;
            margin-bottom: 1.5rem;
            animation: fadeInUp 1s ease;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            opacity: 0.95;
            margin-bottom: 3rem;
            line-height: 1.6;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            animation: fadeInUp 1s ease 0.2s both;
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 2rem;
            max-width: 600px;
            margin: 0 auto;
            animation: fadeInUp 1s ease 0.4s both;
        }

        .stat-item {
            text-align: center;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-number {
            display: block;
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, #fff, #f0f0f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label {
            font-size: 0.95rem;
            opacity: 0.9;
            font-weight: 500;
        }

        /* Search Section */
        .search-section {
            padding: 2rem 0;
            background: var(--gray-50);
            border-bottom: 1px solid var(--border);
        }

        .dark-theme .search-section {
            background: var(--dark-surface);
            border-bottom-color: var(--dark-border);
        }

        .search-container {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }

        .search-box {
            position: relative;
            display: inline-block;
            width: 100%;
            max-width: 500px;
        }

        .search-box i {
            position: absolute;
            left: 1.5rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            z-index: 2;
        }

        .search-box input {
            width: 100%;
            padding: 1.25rem 1.5rem 1.25rem 3.5rem;
            border: 2px solid var(--gray-300);
            border-radius: 3rem;
            font-size: 1.1rem;
            background: var(--white);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .dark-theme .search-box input {
            background: var(--dark-card);
            border-color: var(--dark-border);
            color: var(--dark-text);
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 4px rgba(var(--primary-rgb), 0.1);
        }

        /* Featured Story Section */
        .featured-story {
            padding: 5rem 0;
            background: var(--background);
        }

        .dark-theme .featured-story {
            background: var(--dark-bg);
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            text-align: center;
            margin-bottom: 3rem;
            color: var(--text-primary);
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -0.5rem;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: 2px;
        }

        .dark-theme .section-title {
            color: var(--dark-text);
        }

        .featured-card {
            background: var(--white);
            border-radius: 2rem;
            padding: 3rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--gray-200);
            position: relative;
            overflow: hidden;
        }

        .dark-theme .featured-card {
            background: var(--dark-surface);
            border-color: var(--dark-border);
        }

        .featured-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        }

        .featured-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .featured-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
            line-height: 1.3;
        }

        .dark-theme .featured-title {
            color: var(--dark-text);
        }

        .featured-description {
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .dark-theme .featured-description {
            color: var(--dark-text-secondary);
        }

        .featured-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-bottom: 2.5rem;
        }

        .tag {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 1.5rem;
            font-size: 0.85rem;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.3);
        }

        .featured-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .preview-container {
            border-radius: 1.5rem;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
            background: var(--white);
        }

        .dark-theme .preview-container {
            background: var(--dark-card);
        }

        .preview-placeholder {
            background: linear-gradient(135deg, var(--gray-100), var(--gray-200));
            border-radius: 1.5rem;
            height: 400px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dark-theme .preview-placeholder {
            background: linear-gradient(135deg, var(--dark-card), var(--dark-border));
            color: var(--dark-text-secondary);
        }

        .preview-placeholder:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .preview-placeholder i {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .preview-placeholder span {
            font-size: 1.1rem;
            font-weight: 600;
        }

        /* Category Filter */
        .category-filter {
            padding: 3rem 0;
            background: var(--gray-50);
        }

        .dark-theme .category-filter {
            background: var(--dark-surface);
        }

        .filter-tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .filter-tab {
            background: var(--white);
            color: var(--text-primary);
            border: 2px solid var(--gray-300);
            border-radius: 2rem;
            padding: 1rem 2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dark-theme .filter-tab {
            background: var(--dark-card);
            color: var(--dark-text);
            border-color: var(--dark-border);
        }

        .filter-tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .filter-tab:hover::before {
            left: 100%;
        }

        .filter-tab:hover,
        .filter-tab.active {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-color: var(--primary-color);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(var(--primary-rgb), 0.3);
        }

        /* Writing Grid */
        .writing-grid {
            padding: 5rem 0;
        }

        .writing-cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 2.5rem;
        }

        .writing-card {
            background: var(--white);
            border-radius: 1.5rem;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--gray-200);
            transition: all 0.4s ease;
            position: relative;
        }

        .dark-theme .writing-card {
            background: var(--dark-surface);
            border-color: var(--dark-border);
        }

        .writing-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
        }

        .card-image {
            position: relative;
            height: 250px;
            overflow: hidden;
        }

        .card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .writing-card:hover .card-image img {
            transform: scale(1.1);
        }

        .card-overlay {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 1.5rem;
            font-size: 0.85rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .card-content {
            padding: 2.5rem;
        }

        .card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
        }

        .category {
            background: var(--accent-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 1.5rem;
            font-weight: 600;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .date {
            color: var(--text-secondary);
            font-weight: 500;
        }

        .dark-theme .date {
            color: var(--dark-text-secondary);
        }

        .card-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.6rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
            line-height: 1.4;
            font-weight: 600;
        }

        .dark-theme .card-title {
            color: var(--dark-text);
        }

        .card-excerpt {
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 2rem;
            font-size: 1rem;
        }

        .dark-theme .card-excerpt {
            color: var(--dark-text-secondary);
        }

        .card-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .card-tags .tag {
            background: var(--gray-100);
            color: var(--text-secondary);
            font-size: 0.75rem;
            padding: 0.25rem 0.75rem;
            box-shadow: none;
        }

        .dark-theme .card-tags .tag {
            background: var(--dark-border);
            color: var(--dark-text-secondary);
        }

        .read-more {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 700;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .read-more:hover {
            color: var(--secondary-color);
            transform: translateX(8px);
        }

        .read-more i {
            transition: transform 0.3s ease;
        }

        .read-more:hover i {
            transform: translateX(5px);
        }

        /* Load More Section */
        .load-more-section {
            text-align: center;
            padding: 3rem 0;
        }

        .load-more-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 1.25rem 3rem;
            border-radius: 3rem;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(var(--primary-rgb), 0.3);
        }

        .load-more-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(var(--primary-rgb), 0.4);
        }
/* Featured Publications Section */
.publications-section {
    margin-top: 4rem;
    padding: 2rem 0;
}

.subsection-title {
    font-family: 'Playfair Display', serif;
    font-size: 2.5rem;
    font-weight: 600;
    color: var(--text-primary);
    text-align: center;
    margin-bottom: 3rem;
    position: relative;
}

.dark-theme .subsection-title {
    color: var(--dark-text);
}

.subsection-title::after {
    content: '';
    position: absolute;
    bottom: -0.5rem;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    height: 4px;
    background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    border-radius: 2px;
}

/* Publications Grid */
.publications-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 2rem;
    margin: 0 auto;
    max-width: 1200px;
}

/* Publication Card */
.publication-card {
    background: var(--white);
    border-radius: 1.5rem;
    padding: 2rem;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
    border: 1px solid var(--gray-200);
    position: relative;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    transform: translateY(0);
}

.dark-theme .publication-card {
    background: var(--dark-surface);
    border-color: var(--dark-border);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}

.publication-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.3s ease;
}

.publication-card:hover::before {
    transform: scaleX(1);
}

.publication-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
}

.dark-theme .publication-card:hover {
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
}

/* Publication Logo */
.publication-logo {
    width: 80px;
    height: 80px;
    border-radius: 1rem;
    background: var(--gray-50);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.5rem;
    overflow: hidden;
    transition: all 0.3s ease;
    position: relative;
}

.dark-theme .publication-logo {
    background: var(--dark-card);
}

.publication-logo::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    transform: translateX(-100%);
    transition: transform 0.6s ease;
}

.publication-card:hover .publication-logo::after {
    transform: translateX(100%);
}

.publication-logo img {
    width: 50px;
    height: 50px;
    object-fit: contain;
    transition: all 0.3s ease;
    filter: grayscale(20%);
}

.publication-card:hover .publication-logo img {
    transform: scale(1.1);
    filter: grayscale(0%);
}

/* Dark theme logo adjustments */
.dark-theme .publication-logo img {
    filter: brightness(1.2) grayscale(20%);
}

.dark-theme .publication-card:hover .publication-logo img {
    filter: brightness(1.4) grayscale(0%);
}

/* Publication Info */
.publication-info h4 {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
    transition: color 0.3s ease;
}

.dark-theme .publication-info h4 {
    color: var(--dark-text);
}

.publication-card:hover .publication-info h4 {
    color: var(--primary-color);
}

.publication-info p {
    color: var(--text-secondary);
    font-size: 1rem;
    margin-bottom: 1.5rem;
    font-weight: 500;
    line-height: 1.4;
}

.dark-theme .publication-info p {
    color: var(--dark-text-secondary);
}

/* Stats */
.stats {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.stats span {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-secondary);
    font-size: 0.95rem;
    font-weight: 600;
    transition: all 0.3s ease;
}

.dark-theme .stats span {
    color: var(--dark-text-secondary);
}

.stats span i {
    width: 16px;
    color: var(--primary-color);
    font-size: 0.9rem;
}

.publication-card:hover .stats span {
    color: var(--text-primary);
    transform: translateX(5px);
}

.dark-theme .publication-card:hover .stats span {
    color: var(--dark-text);
}

/* Hover Overlay */
.hover-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    padding: 1.5rem 2rem;
    transform: translateY(100%);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    border-radius: 0 0 1.5rem 1.5rem;
}

.publication-card:hover .hover-overlay {
    transform: translateY(0);
}

.view-articles {
    color: white;
    text-decoration: none;
    font-weight: 700;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.view-articles::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s ease;
}

.view-articles:hover::before {
    left: 100%;
}

.view-articles::after {
    content: '→';
    margin-left: 0.5rem;
    transition: transform 0.3s ease;
}

.view-articles:hover::after {
    transform: translateX(5px);
}

/* Category-specific styling */
.publication-card[data-category="tech"] .publication-logo {
    background: linear-gradient(135deg, #667eea, #764ba2);
}

.publication-card[data-category="creative"] .publication-logo {
    background: linear-gradient(135deg, #f093fb, #f5576c);
}

.publication-card[data-category="design"] .publication-logo {
    background: linear-gradient(135deg, #4facfe, #00f2fe);
}

.publication-card[data-category="dev"] .publication-logo {
    background: linear-gradient(135deg, #43e97b, #38f9d7);
}

/* Loading Animation */
.publication-card.loading {
    pointer-events: none;
}

.publication-card.loading::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    animation: loading-shimmer 1.5s infinite;
}

@keyframes loading-shimmer {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

/* Stagger Animation for Grid */
.publication-card {
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 0.6s ease forwards;
}

.publication-card:nth-child(1) { animation-delay: 0.1s; }
.publication-card:nth-child(2) { animation-delay: 0.2s; }
.publication-card:nth-child(3) { animation-delay: 0.3s; }
.publication-card:nth-child(4) { animation-delay: 0.4s; }
.publication-card:nth-child(5) { animation-delay: 0.5s; }
.publication-card:nth-child(6) { animation-delay: 0.6s; }

@keyframes fadeInUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Responsive Design */
@media (max-width: 1024px) {
    .publications-grid {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
    }
    
    .publication-card {
        padding: 1.5rem;
    }
}

@media (max-width: 768px) {
    .subsection-title {
        font-size: 2rem;
        margin-bottom: 2rem;
    }
    
    .publications-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
        padding: 0 1rem;
    }
    
    .publication-card {
        padding: 1.5rem;
    }
    
    .publication-logo {
        width: 70px;
        height: 70px;
    }
    
    .publication-logo img {
        width: 40px;
        height: 40px;
    }
    
    .stats {
        flex-direction: row;
        justify-content: space-between;
    }
    
    .stats span {
        font-size: 0.85rem;
    }
}

@media (max-width: 480px) {
    .subsection-title {
        font-size: 1.75rem;
    }
    
    .publication-card {
        padding: 1.25rem;
    }
    
    .publication-info h4 {
        font-size: 1.25rem;
    }
    
    .publication-info p {
        font-size: 0.9rem;
    }
    
    .stats {
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .hover-overlay {
        position: static;
        transform: none;
        background: transparent;
        padding: 1rem 0 0 0;
        border-radius: 0;
    }
    
    .view-articles {
        color: var(--primary-color);
        justify-content: flex-start;
        font-size: 1rem;
        padding: 0.75rem 1.5rem;
        background: var(--gray-100);
        border-radius: 0.5rem;
        margin-top: 1rem;
    }
    
    .dark-theme .view-articles {
        background: var(--dark-border);
        color: var(--primary-color);
    }
}

/* High contrast mode */
@media (prefers-contrast: high) {
    .publication-card {
        border-width: 2px;
        border-color: var(--text-primary);
    }
    
    .publication-logo {
        border: 2px solid var(--text-primary);
    }
    
    .view-articles {
        outline: 2px solid white;
        outline-offset: -2px;
    }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    .publication-card,
    .publication-logo,
    .publication-logo img,
    .stats span,
    .hover-overlay,
    .view-articles {
        transition: none;
        animation: none;
    }
    
    .publication-card {
        opacity: 1;
        transform: none;
    }
    
    .publication-card:hover {
        transform: none;
    }
}

/* Print styles */
@media print {
    .publications-section {
        break-inside: avoid;
        page-break-inside: avoid;
    }
    
    .publication-card {
        break-inside: avoid;
        box-shadow: none;
        border: 2px solid #000;
        margin-bottom: 1rem;
    }
    
    .hover-overlay {
        display: none;
    }
    
    .publication-logo {
        background: #f0f0f0 !important;
    }
}

// Featured Publications Manager
class PublicationsManager {
    constructor() {
        this.publications = [];
        this.currentFilter = 'all';
        this.animationDelay = 100;
        this.isLoading = false;
        this.init();
    }

    init() {
        this.setupPublicationCards();
        this.setupIntersectionObserver();
        this.setupClickHandlers();
        this.setupKeyboardNavigation();
        this.setupFilterSystem();
        this.loadPublicationData();
        this.setupAnalytics();
    }

    setupPublicationCards() {
        const cards = document.querySelectorAll('.publication-card');
        
        cards.forEach((card, index) => {
            // Add loading state initially
            card.classList.add('loading');
            
            // Remove loading state after initial delay
            setTimeout(() => {
                card.classList.remove('loading');
            }, (index + 1) * this.animationDelay);

            // Add hover effects
            this.addHoverEffects(card);
            
            // Add click analytics
            card.addEventListener('click', (e) => {
                if (!e.target.closest('.view-articles')) {
                    const link = card.querySelector('.view-articles');
                    if (link) {
                        this.handleCardClick(card, link);
                    }
                }
            });

            // Add accessibility attributes
            card.setAttribute('role', 'article');
            card.setAttribute('tabindex', '0');
            
            const title = card.querySelector('h4').textContent;
            card.setAttribute('aria-label', `${title} publication`);
        });
    }

    addHoverEffects(card) {
        const logo = card.querySelector('.publication-logo');
        const stats = card.querySelectorAll('.stats span');
        
        let hoverTimeout;

        card.addEventListener('mouseenter', () => {
            clearTimeout(hoverTimeout);
            
            // Stagger stats animation
            stats.forEach((stat, index) => {
                setTimeout(() => {
                    stat.style.transform = 'translateX(5px)';
                    stat.style.color = 'var(--text-primary)';
                }, index * 50);
            });

            // Add sparkle effect
            this.addSparkleEffect(logo);
            
            // Track hover
            this.trackEvent('publication_hover', {
                publication: card.querySelector('h4').textContent,
                category: card.dataset.category
            });
        });

        card.addEventListener('mouseleave', () => {
            hoverTimeout = setTimeout(() => {
                stats.forEach(stat => {
                    stat.style.transform = '';
                    stat.style.color = '';
                });
            }, 100);
        });
    }

    addSparkleEffect(element) {
        // Create sparkle particles
        for (let i = 0; i < 3; i++) {
            setTimeout(() => {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.cssText = `
                    position: absolute;
                    width: 4px;
                    height: 4px;
                    background: white;
                    border-radius: 50%;
                    pointer-events: none;
                    opacity: 0;
                    top: ${Math.random() * 100}%;
                    left: ${Math.random() * 100}%;
                    animation: sparkle 0.8s ease-out forwards;
                `;
                
                element.appendChild(sparkle);
                
                setTimeout(() => sparkle.remove(), 800);
            }, i * 100);
        }
    }

    setupIntersectionObserver() {
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    
                    // Trigger counter animations
                    this.animateStats(entry.target);
                    
                    // Track visibility
                    this.trackEvent('publication_view', {
                        publication: entry.target.querySelector('h4')?.textContent || 'Unknown',
                        category: entry.target.dataset.category || 'unknown'
                    });
                }
            });
        }, observerOptions);

        document.querySelectorAll('.publication-card').forEach(card => {
            observer.observe(card);
        });
    }

    animateStats(card) {
        const stats = card.querySelectorAll('.stats span');
        
        stats.forEach((stat, index) => {
            const icon = stat.querySelector('i');
            if (icon) {
                setTimeout(() => {
                    icon.style.animation = 'pulse 0.6s ease';
                }, index * 200);
            }
        });
    }

    setupClickHandlers() {
        document.querySelectorAll('.view-articles').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                
                const card = e.target.closest('.publication-card');
                this.handleCardClick(card, link);
            });
        });
    }

    handleCardClick(card, link) {
        const publication = card.querySelector('h4').textContent;
        const category = card.dataset.category;
        
        // Add click animation
        card.style.transform = 'scale(0.98)';
        setTimeout(() => {
            card.style.transform = '';
        }, 150);

        // Show loading state
        const originalText = link.textContent;
        link.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';
        
        // Track click
        this.trackEvent('publication_click', {
            publication: publication,
            category: category,
            action: 'view_external'
        });

        // Simulate navigation delay
        setTimeout(() => {
            // In a real app, this would navigate to the actual URL
            this.showNotification(`Opening ${publication}...`, 'info');
            link.textContent = originalText;
            
            // Simulate external navigation
            window.open(this.getPublicationURL(publication), '_blank');
        }, 800);
    }

    getPublicationURL(publication) {
        const urls = {
            'Medium': 'https://medium.com/@your-username',
            'Wattpad': 'https://wattpad.com/user/your-username',
            'Stack Overflow': 'https://stackoverflow.com/users/your-id',
            'Behance': 'https://behance.net/your-username',
            'GitHub': 'https://github.com/your-username',
            'CodePen': 'https://codepen.io/your-username'
        };
        
        return urls[publication] || '#';
    }

    setupKeyboardNavigation() {
        document.querySelectorAll('.publication-card').forEach((card, index) => {
            card.addEventListener('keydown', (e) => {
                const cards = Array.from(document.querySelectorAll('.publication-card'));
                let targetIndex = index;

                switch (e.key) {
                    case 'Enter':
                    case ' ':
                        e.preventDefault();
                        const link = card.querySelector('.view-articles');
                        if (link) link.click();
                        break;
                        
                    case 'ArrowRight':
                    case 'ArrowDown':
                        e.preventDefault();
                        targetIndex = (index + 1) % cards.length;
                        cards[targetIndex].focus();
                        break;
                        
                    case 'ArrowLeft':
                    case 'ArrowUp':
                        e.preventDefault();
                        targetIndex = (index - 1 + cards.length) % cards.length;
                        cards[targetIndex].focus();
                        break;
                        
                    case 'Home':
                        e.preventDefault();
                        cards[0].focus();
                        break;
                        
                    case 'End':
                        e.preventDefault();
                        cards[cards.length - 1].focus();
                        break;
                }
                
                if (targetIndex !== index) {
                    this.trackEvent('keyboard_navigation', {
                        from_index: index,
                        to_index: targetIndex,
                        key: e.key
                    });
                }
            });
        });
    }

    setupFilterSystem() {
        // Create filter buttons
        const filterContainer = document.createElement('div');
        filterContainer.className = 'publications-filter';
        filterContainer.innerHTML = `
            <div class="filter-buttons">
                <button class="filter-btn active" data-category="all">All</button>
                <button class="filter-btn" data-category="tech">Tech</button>
                <button class="filter-btn" data-category="creative">Creative</button>
                <button class="filter-btn" data-category="design">Design</button>
                <button class="filter-btn" data-category="dev">Development</button>
            </div>
        `;

        // Insert before grid
        const grid = document.querySelector('.publications-grid');
        grid.parentNode.insertBefore(filterContainer, grid);

        // Add filter functionality
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const category = btn.dataset.category;
                this.filterPublications(category);
                
                // Update active state
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                this.trackEvent('publication_filter', {
                    category: category
                });
            });
        });
    }

    filterPublications(category) {
        const cards = document.querySelectorAll('.publication-card');
        this.currentFilter = category;

        cards.forEach((card, index) => {
            const cardCategory = card.dataset.category;
            const shouldShow = category === 'all' || cardCategory === category;

            if (shouldShow) {
                setTimeout(() => {
                    card.style.display = 'block';
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    
                    requestAnimationFrame(() => {
                        card.style.transition = 'all 0.4s ease';
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    });
                }, index * 100);
            } else {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    card.style.display = 'none';
                }, 400);
            }
        });
    }

    loadPublicationData() {
        // Simulate loading publication stats from API
        setTimeout(() => {
            this.updateRealTimeStats();
            
            // Set up periodic updates
            setInterval(() => {
                this.updateRealTimeStats();
            }, 30000); // Update every 30 seconds
        }, 1000);
    }

    updateRealTimeStats() {
        const cards = document.querySelectorAll('.publication-card');
        
        cards.forEach(card => {
            const stats = card.querySelectorAll('.stats span');
            
            stats.forEach(stat => {
                const text = stat.textContent;
                const numbers = text.match(/\d+/g);
                
                if (numbers) {
                    const currentNumber = parseInt(numbers[0]);
                    const increment = Math.floor(Math.random() * 5) + 1;
                    const newNumber = currentNumber + increment;
                    
                    // Animate number change
                    this.animateNumber(stat, currentNumber, newNumber);
                }
            });
        });
    }

    animateNumber(element, from, to) {
        const text = element.textContent;
        const duration = 1000;
        const step = (to - from) / (duration / 16);
        let current = from;
        
        const animate = () => {
            current += step;
            if (current >= to) {
                current = to;
                element.textContent = text.replace(/\d+/, Math.floor(current));
                return;
            }
            
            element.textContent = text.replace(/\d+/, Math.floor(current));
            requestAnimationFrame(animate);
        };
        
        animate();
    }

    setupAnalytics() {
        // Track scroll depth
        let maxScroll = 0;
        
        window.addEventListener('scroll', () => {
            const scrollPercent = Math.round(
                (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100
            );
            
            if (scrollPercent > maxScroll) {
                maxScroll = scrollPercent;
                
                if (maxScroll % 25 === 0 && maxScroll > 0) {
                    this.trackEvent('scroll_depth', {
                        percent: maxScroll,
                        section: 'publications'
                    });
                }
            }
        });

        // Track time spent in section
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    this.sectionStartTime = Date.now();
                } else if (this.sectionStartTime) {
                    const timeSpent = Date.now() - this.sectionStartTime;
                    this.trackEvent('section_time', {
                        section: 'publications',
                        duration_ms: timeSpent
                    });
                    this.sectionStartTime = null;
                }
            });
        });

        observer.observe(document.querySelector('.publications-section'));
    }

    showNotification(message, type = 'info') {
        // Remove existing notifications
        document.querySelectorAll('.notification').forEach(n => n.remove());
        
        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        notification.innerHTML = `
            <div class="notification-content">
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-triangle' : 'info-circle'}"></i>
                <span>${message}</span>
                <button class="notification-close" onclick="this.parentElement.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `;
        
        document.body.appendChild(notification);
        
        setTimeout(() => notification.classList.add('show'), 100);
        setTimeout(() => {
            notification.classList.remove('show');
            setTimeout(() => notification.remove(), 300);
        }, 3000);
    }

    trackEvent(eventName, parameters = {}) {
        // Google Analytics 4 tracking
        if (typeof gtag !== 'undefined') {
            gtag('event', eventName, {
                event_category: 'publications',
                ...parameters
            });
        }
        
        console.log(`📊 Publications Event: ${eventName}`, parameters);
    }

    // Public methods for external access
    refresh() {
        this.loadPublicationData();
    }

    getStats() {
        const cards = document.querySelectorAll('.publication-card');
        return {
            total: cards.length,
            visible: Array.from(cards).filter(card => 
                card.style.display !== 'none'
            ).length,
            currentFilter: this.currentFilter
        };
    }
}

// Initialize Publications Manager
document.addEventListener('DOMContentLoaded', () => {
    window.publicationsManager = new PublicationsManager();
    
    // Add sparkle animation CSS
    const sparkleCSS = `
        @keyframes sparkle {
            0% {
                opacity: 0;
                transform: translateY(0) scale(0);
            }
            50% {
                opacity: 1;
                transform: translateY(-10px) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-20px) scale(0);
            }
        }
        
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
        }
        
        .publications-filter {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .filter-buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .filter-btn {
            background: var(--white);
            color: var(--text-primary);
            border: 2px solid var(--gray-300);
            border-radius: 2rem;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .dark-theme .filter-btn {
            background: var(--dark-card);
            color: var(--dark-text);
            border-color: var(--dark-border);
        }
        
        .filter-btn:hover,
        .filter-btn.active {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }
        
        @media (max-width: 768px) {
            .filter-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .filter-btn {
                min-width: 120px;
            }
        }
    `;

      
        /* Newsletter Section */
        .newsletter-section {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 5rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .newsletter-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: float 20s ease-in-out infinite;
        }

        .newsletter-content {
            max-width: 700px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 1;
        }

        .newsletter-content h2 {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        .newsletter-content p {
            font-size: 1.3rem;
            opacity: 0.95;
            margin-bottom: 3rem;
            line-height: 1.6;
        }

        .newsletter-form {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        .newsletter-form input {
            flex: 1;
            min-width: 300px;
            padding: 1.25rem 2rem;
            border: none;
            border-radius: 3rem;
            font-size: 1.1rem;
            background: rgba(255, 255, 255, 0.95);
            color: var(--text-primary);
            backdrop-filter: blur(10px);
        }

        .newsletter-form input::placeholder {
            color: var(--text-secondary);
        }

        .newsletter-form .btn {
            padding: 1.25rem 2.5rem;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }

        .newsletter-form .btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .newsletter-note {
            font-size: 0.95rem;
            opacity: 0.8;
        }

        /* Writing Stats */
        .writing-stats {
            padding: 5rem 0;
            background: var(--background);
        }

        .dark-theme .writing-stats {
            background: var(--dark-bg);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2.5rem;
        }

        .stat-card {
            background: var(--white);
            padding: 3rem 2rem;
            border-radius: 1.5rem;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            border: 1px solid var(--gray-200);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dark-theme .stat-card {
            background: var(--dark-surface);
            border-color: var(--dark-border);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .stat-card i {
            font-size: 3.5rem;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
        }

        .stat-card h3 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
            font-weight: 700;
        }

        .dark-theme .stat-card h3 {
            color: var(--dark-text);
        }

        .stat-card p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .dark-theme .stat-card p {
            color: var(--dark-text-secondary);
        }

        /* Notification System */
        .notification {
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: var(--success-color);
            color: white;
            padding: 1rem 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transform: translateX(120%);
            transition: transform 0.3s ease;
            z-index: 1000;
            font-weight: 600;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: var(--error-color);
        }

        /* Reading Progress Bar */
        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .dark-theme .reading-progress {
            background: rgba(255, 255, 255, 0.1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes float {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg); 
            }
            50% { 
                transform: translateY(-20px) rotate(180deg); 
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .writing-cards-container {
                grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
                gap: 2rem;
            }
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .section-title {
                font-size: 2.5rem;
            }
            
            .featured-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .featured-card {
                padding: 2rem;
            }
            
            .writing-cards-container {
                grid-template-columns: 1fr;
            }
            
            .filter-tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .newsletter-form {
                flex-direction: column;
                align-items: center;
            }
            
            .newsletter-form input {
                width: 100%;
                max-width: 400px;
                min-width: unset;
            }
            
            .hero-stats {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .notification {
                top: 1rem;
                right: 1rem;
                left: 1rem;
                transform: translateY(-120%);
            }
            
            .notification.show {
                transform: translateY(0);
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .featured-title {
                font-size: 1.8rem;
            }
            
            .card-content {
                padding: 1.5rem;
            }
            
                        .stat-card {
                padding: 2rem 1.5rem;
            }
            
            .newsletter-content h2 {
                font-size: 2rem;
            }
            
            .newsletter-content p {
                font-size: 1.1rem;
            }
            
            .hero-content {
                padding: 0 1rem;
            }
            
            .container {
                padding: 0 1rem;
            }
        }

        /* High contrast mode */
        @media (prefers-contrast: high) {
            .writing-card {
                border-width: 2px;
            }
            
            .btn {
                border: 2px solid currentColor;
            }
            
            .tag {
                outline: 2px solid currentColor;
            }
        }

        /* Reduced motion */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Print styles */
        @media print {
            .hero-section,
            .newsletter-section,
            .load-more-section {
                display: none;
            }
            
            .writing-card {
                box-shadow: none;
                border: 2px solid #000;
                break-inside: avoid;
                margin-bottom: 2rem;
            }
            
            .reading-progress {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Reading Progress Bar -->
    <div class="reading-progress">
        <div class="progress-fill"></div>
    </div>

    <!-- Navigation (assuming you have a navigation component) -->
    <nav class="navbar">
        <!-- Your existing navigation would go here -->
    </nav>

    <!-- Main Content -->
    <main class="writing-showcase">
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="hero-content">
                <h1 class="hero-title">Writing Showcase</h1>
                <p class="hero-subtitle">
                    Exploring the intersection of technology, culture, and creativity through 
                    technical insights, cultural analysis, and creative storytelling.
                </p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <span class="stat-number">150+</span>
                        <span class="stat-label">Articles Published</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">50K+</span>
                        <span class="stat-label">Readers Reached</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">25</span>
                        <span class="stat-label">Topics Covered</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Search Section -->
        <section class="search-section">
            <div class="container">
                <div class="search-container">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="writingSearch" placeholder="Search articles, topics, or tags...">
                        <button type="button" id="clearSearch" class="clear-search" style="display: none;">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="search-suggestions" id="searchSuggestions" style="display: none;"></div>
                </div>
            </div>
        </section>

        <!-- Featured Story -->
        <section class="featured-story">
            <div class="container">
                <h2 class="section-title">Featured Story</h2>
                <div class="featured-card">
                    <div class="featured-content">
                        <div class="featured-text">
                            <h3 class="featured-title">The Future of VTuber Technology</h3>
                            <p class="featured-description">
                                Exploring how artificial intelligence and motion capture technology are revolutionizing 
                                virtual content creation, from real-time facial tracking to AI-driven personality systems. 
                                A deep dive into the technical challenges and cultural implications of virtual beings.
                            </p>
                            <div class="featured-tags">
                                <span class="tag">AI Technology</span>
                                <span class="tag">VTuber</span>
                                <span class="tag">Motion Capture</span>
                                <span class="tag">Cultural Impact</span>
                            </div>
                            <div class="featured-actions">
                                <a href="#" class="btn btn-primary">
                                    <i class="fas fa-book-open"></i>
                                    Read Full Article
                                </a>
                                <button class="btn btn-secondary" onclick="toggleEmbedView()">
                                    <i class="fas fa-code"></i>
                                    View Embedded
                                </button>
                            </div>
                        </div>
                        <div class="featured-visual">
                            <div class="preview-container">
                                <div class="preview-placeholder" id="previewPlaceholder" onclick="toggleEmbedView()">
                                    <i class="fas fa-play-circle"></i>
                                    <span>Click to preview embedded content</span>
                                </div>
                                <div id="embedContainer" style="display: none;">
                                    <iframe 
                                        src="https://codepen.io/hexagoncircle/embed/preview/XWbWKwL?height=400&theme-id=dark&default-tab=result" 
                                        style="width: 100%; height: 400px; border: 0; border-radius: 4px; overflow: hidden;" 
                                        title="3D CSS Text Animation" 
                                        allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
                                        sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts">
                                    </iframe>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Category Filter -->
        <section class="category-filter">
            <div class="container">
                <div class="filter-tabs">
                    <button class="filter-tab active" data-category="all">All Articles</button>
                    <button class="filter-tab" data-category="technical">Technical</button>
                    <button class="filter-tab" data-category="cultural">Cultural</button>
                    <button class="filter-tab" data-category="creative">Creative</button>
                    <button class="filter-tab" data-category="tutorial">Tutorials</button>
                    <button class="filter-tab" data-category="analysis">Analysis</button>
                </div>
            </div>
        </section>

      
        <!-- Featured Publications -->
        <div class="publications-section">
            <h3 class="subsection-title">Featured Publications</h3>
            <div class="publications-grid">
                <div class="publication-card" data-category="tech">
                    <div class="publication-logo">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/8/8e/Medium_logo.svg" alt="Medium">
                    </div>
                    <div class="publication-info">
                        <h4>Medium</h4>
                        <p>Technical AI Articles</p>
                        <div class="stats">
                            <span><i class="fas fa-eye"></i> 15K+ views</span>
                            <span><i class="fas fa-heart"></i> 500+ claps</span>
                        </div>
                    </div>
                    <div class="hover-overlay">
                        <a href="#" class="view-articles">View Articles</a>
                    </div>
                </div>

                <div class="publication-card" data-category="creative">
                    <div class="publication-logo">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/4/4b/Wattpad_Logo.svg" alt="Wattpad">
                    </div>
                    <div class="publication-info">
                        <h4>Wattpad</h4>
                        <p>Creative Stories</p>
                        <div class="stats">
                            <span><i class="fas fa-book-reader"></i> 8K+ reads</span>
                            <span><i class="fas fa-star"></i> 4.8 rating</span>
                        </div>
                    </div>
                    <div class="hover-overlay">
                        <a href="#" class="view-articles">Read Stories</a>
                    </div>
                </div>

                <div class="publication-card" data-category="tech">
                    <div class="publication-logo">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/e/ef/Stack_Overflow_icon.svg" alt="Stack Overflow">
                    </div>
                    <div class="publication-info">
                        <h4>Stack Overflow</h4>
                        <p>Technical Contributions</p>
                        <div class="stats">
                            <span><i class="fas fa-trophy"></i> 2K+ reputation</span>
                            <span><i class="fas fa-check"></i> 95% helpful</span>
                        </div>
                    </div>
                    <div class="hover-overlay">
                        <a href="#" class="view-articles">View Profile</a>
                    </div>
                </div>

                <div class="publication-card" data-category="design">
                    <div class="publication-logo">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/c/c2/Behance_logo.svg" alt="Behance">
                    </div>
                    <div class="publication-info">
                        <h4>Behance</h4>
                        <p>Design Portfolio</p>
                        <div class="stats">
                            <span><i class="fas fa-eye"></i> 12K+ views</span>
                            <span><i class="fas fa-thumbs-up"></i> 300+ likes</span>
                        </div>
                    </div>
                    <div class="hover-overlay">
                        <a href="#" class="view-articles">View Portfolio</a>
                    </div>
                </div>

                <div class="publication-card" data-category="dev">
                    <div class="publication-logo">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/4/4e/GitHub_Logo.png" alt="GitHub">
                    </div>
                    <div class="publication-info">
                        <h4>GitHub</h4>
                        <p>Open Source Projects</p>
                        <div class="stats">
                            <span><i class="fas fa-star"></i> 250+ stars</span>
                            <span><i class="fas fa-code-branch"></i> 50+ forks</span>
                        </div>
                    </div>
                    <div class="hover-overlay">
                        <a href="#" class="view-articles">View Repositories</a>
                    </div>
                </div>

                <div class="publication-card" data-category="dev">
                    <div class="publication-logo">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/9/9a/CodePen_logo.svg" alt="CodePen">
                    </div>
                    <div class="publication-info">
                        <h4>CodePen</h4>
                        <p>Interactive Demos</p>
                        <div class="stats">
                            <span><i class="fas fa-heart"></i> 180+ hearts</span>
                            <span><i class="fas fa-eye"></i> 5K+ views</span>
                        </div>
                    </div>
                    <div class="hover-overlay">
                        <a href="#" class="view-articles">View Pens</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Writing Grid -->
        <section class="writing-grid">
            <div class="container">
                <div class="writing-cards-container">
                    <!-- Article 1 -->
                    <article class="writing-card" data-category="technical">
                        <div class="card-image">
                            <img src="https://images.unsplash.com/photo-1677442136019-21780ecad995?w=400&h=250&fit=crop" alt="AI Development">
                            <div class="card-overlay">5 min read</div>
                        </div>
                        <div class="card-content">
                            <div class="card-meta">
                                <span class="category">Technical</span>
                                <span class="date">March 15, 2024</span>
                            </div>
                            <h3 class="card-title">Building AI-Powered Real-Time Motion Capture</h3>
                            <p class="card-excerpt">
                                A comprehensive guide to implementing real-time facial tracking and motion capture 
                                systems using OpenCV, MediaPipe, and custom neural networks for virtual avatar applications.
                            </p>
                            <div class="card-tags">
                                <span class="tag">Python</span>
                                <span class="tag">OpenCV</span>
                                <span class="tag">MediaPipe</span>
                                <span class="tag">Neural Networks</span>
                            </div>
                            <a href="#" class="read-more">
                                Read More <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </article>

                    <!-- Article 2 -->
                    <article class="writing-card" data-category="cultural">
                        <div class="card-image">
                            <img src="https://images.unsplash.com/photo-1528164344705-47542687000d?w=400&h=250&fit=crop" alt="Cultural Analysis">
                            <div class="card-overlay">8 min read</div>
                        </div>
                        <div class="card-content">
                            <div class="card-meta">
                                <span class="category">Cultural</span>
                                <span class="date">March 10, 2024</span>
                            </div>
                            <h3 class="card-title">The Cultural Impact of Virtual Beings</h3>
                            <p class="card-excerpt">
                                Examining how VTubers and virtual influencers are reshaping entertainment, social 
                                interaction, and cultural norms across different societies and age groups.
                            </p>
                            <div class="card-tags">
                                <span class="tag">Sociology</span>
                                <span class="tag">VTuber Culture</span>
                                <span class="tag">Digital Identity</span>
                                <span class="tag">Social Media</span>
                            </div>
                            <a href="#" class="read-more">
                                Read More <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </article>

                    <!-- Article 3 -->
                    <article class="writing-card" data-category="tutorial">
                        <div class="card-image">
                            <img src="https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=250&fit=crop" alt="Coding Tutorial">
                            <div class="card-overlay">12 min read</div>
                        </div>
                        <div class="card-content">
                            <div class="card-meta">
                                <span class="category">Tutorial</span>
                                <span class="date">March 5, 2024</span>
                            </div>
                            <h3 class="card-title">Creating Interactive 3D Animations with CSS</h3>
                            <p class="card-excerpt">
                                Step-by-step tutorial on building engaging 3D animations using pure CSS, including 
                                transforms, keyframes, and performance optimization techniques.
                            </p>
                            <div class="card-tags">
                                <span class="tag">CSS</span>
                                <span class="tag">3D Animation</span>
                                <span class="tag">Frontend</span>
                                <span class="tag">Performance</span>
                            </div>
                            <a href="#" class="read-more">
                                Read More <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </article>

                    <!-- Article 4 -->
                    <article class="writing-card" data-category="analysis">
                        <div class="card-image">
                            <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400&h=250&fit=crop" alt="Data Analysis">
                            <div class="card-overlay">6 min read</div>
                        </div>
                        <div class="card-content">
                            <div class="card-meta">
                                <span class="category">Analysis</span>
                                <span class="date">February 28, 2024</span>
                            </div>
                            <h3 class="card-title">Data-Driven Design in Virtual Environments</h3>
                            <p class="card-excerpt">
                                Analyzing user behavior patterns in virtual spaces to optimize UI/UX design decisions 
                                and improve engagement metrics in VTuber streaming platforms.
                            </p>
                            <div class="card-tags">
                                <span class="tag">Data Science</span>
                                <span class="tag">UX Design</span>
                                <span class="tag">Analytics</span>
                                <span class="tag">Virtual UI</span>
                            </div>
                            <a href="#" class="read-more">
                                Read More <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </article>

                    <!-- Article 5 -->
                    <article class="writing-card" data-category="creative">
                        <div class="card-image">
                            <img src="https://images.unsplash.com/photo-1579952363873-27d3bfad9c0d?w=400&h=250&fit=crop" alt="Creative Writing">
                            <div class="card-overlay">10 min read</div>
                        </div>
                        <div class="card-content">
                            <div class="card-meta">
                                <span class="category">Creative</span>
                                <span class="date">February 22, 2024</span>
                            </div>
                            <h3 class="card-title">The Art of Digital Storytelling</h3>
                            <p class="card-excerpt">
                                Exploring narrative techniques in digital media, from interactive fiction to virtual 
                                character development, and how technology enhances storytelling possibilities.
                            </p>
                            <div class="card-tags">
                                <span class="tag">Storytelling</span>
                                <span class="tag">Digital Media</span>
                                <span class="tag">Interactive Fiction</span>
                                <span class="tag">Character Design</span>
                            </div>
                            <a href="#" class="read-more">
                                Read More <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </article>

                    <!-- Article 6 -->
                    <article class="writing-card" data-category="technical">
                        <div class="card-image">
                            <img src="https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=400&h=250&fit=crop" alt="Machine Learning">
                            <div class="card-overlay">15 min read</div>
                        </div>
                        <div class="card-content">
                            <div class="card-meta">
                                <span class="category">Technical</span>
                                <span class="date">February 18, 2024</span>
                            </div>
                            <h3 class="card-title">Implementing Real-Time Emotion Recognition</h3>
                            <p class="card-excerpt">
                                Building emotion detection systems using computer vision and deep learning to create 
                                responsive virtual characters that react to user emotions in real-time.
                            </p>
                            <div class="card-tags">
                                <span class="tag">Machine Learning</span>
                                <span class="tag">Computer Vision</span>
                                <span class="tag">TensorFlow</span>
                                <span class="tag">Real-time AI</span>
                            </div>
                            <a href="#" class="read-more">
                                Read More <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <!-- Load More Section -->
        <section class="load-more-section">
            <div class="container">
                <button class="load-more-btn" onclick="writingManager.loadMoreArticles()">
                    <i class="fas fa-plus"></i>
                    Load More Articles
                </button>
            </div>
        </section>

        <!-- Writing Stats -->
        <section class="writing-stats">
            <div class="container">
                <h2 class="section-title">Writing Impact</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-users"></i>
                        <h3>50,000+</h3>
                        <p>Monthly Readers</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-globe"></i>
                        <h3>25</h3>
                        <p>Countries Reached</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-award"></i>
                        <h3>5</h3>
                        <p>Industry Awards</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-share-alt"></i>
                        <h3>10,000+</h3>
                        <p>Social Shares</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Newsletter Section -->
        <section class="newsletter-section">
            <div class="newsletter-content">
                <h2>Stay Updated</h2>
                <p>Get the latest articles, tutorials, and insights delivered directly to your inbox.</p>
                <form class="newsletter-form">
                    <input type="email" placeholder="Enter your email address" required>
                    <button type="submit" class="btn">
                        <i class="fas fa-paper-plane"></i>
                        Subscribe
                    </button>
                </form>
                <p class="newsletter-note">
                    No spam, unsubscribe anytime. Join 5,000+ subscribers who trust our content.
                </p>
            </div>
        </section>
    </main>

    <!-- Footer (assuming you have a footer component) -->
    <footer class="footer">
        <!-- Your existing footer would go here -->
    </footer>

    <!-- JavaScript -->
    <script>
        // Complete Writing Showcase JavaScript Implementation
        class WritingShowcaseManager {
            constructor() {
                this.currentPage = 1;
                this.articlesPerPage = 6;
                this.totalArticles = 0;
                this.filteredArticles = [];
                this.searchTerm = '';
                this.activeCategory = 'all';
                this.tracked25 = false;
                this.tracked50 = false;
                this.tracked75 = false;
                this.startTime = Date.now();
                this.searchTimeout = null;
                this.init();
            }

            init() {
                this.setupCategoryFiltering();
                this.setupSearchFunctionality();
                this.setupIntersectionObserver();
                this.setupNewsletterForm();
                this.setupEmbedToggle();
                this.setupSocialSharing();
                this.setupReadingProgress();
                this.setupAnalytics();
                this.loadArticles();
            }

            setupCategoryFiltering() {
                const filterTabs = document.querySelectorAll('.filter-tab');
                
                filterTabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        const category = tab.dataset.category;
                        this.activeCategory = category;
                        
                        // Update active tab
                        filterTabs.forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');
                        
                        // Filter and animate cards
                        this.filterArticles(category);
                        
                        // Analytics
                        this.trackEvent('category_filter', {
                            category: category
                        });
                    });
                });
            }

            filterArticles(category) {
                const writingCards = document.querySelectorAll('.writing-card');
                let visibleCount = 0;

                writingCards.forEach((card, index) => {
                    const cardCategory = card.dataset.category;
                    const shouldShow = category === 'all' || cardCategory === category;
                    
                    if (shouldShow && this.matchesSearch(card)) {
                        // Stagger animation
                        setTimeout(() => {
                            card.style.display = 'block';
                            card.style.opacity = '0';
                            card.style.transform = 'translateY(30px)';
                            
                            requestAnimationFrame(() => {
                                card.style.transition = 'all 0.5s ease';
                                card.style.opacity = '1';
                                card.style.transform = 'translateY(0)';
                            });
                        }, index * 100);
                        
                        visibleCount++;
                    } else {
                        card.style.display = 'none';
                    }
                });

                // Update results count
                this.updateResultsCount(visibleCount);
            }

            matchesSearch(card) {
                if (!this.searchTerm) return true;
                
                const title = card.querySelector('.card-title').textContent.toLowerCase();
                const excerpt = card.querySelector('.card-excerpt').textContent.toLowerCase();
                const tags = Array.from(card.querySelectorAll('.tag')).map(tag => 
                    tag.textContent.toLowerCase()
                );
                
                return title.includes(this.searchTerm) || 
                       excerpt.includes(this.searchTerm) || 
                       tags.some(tag => tag.includes(this.searchTerm));
            }

            setupSearchFunctionality() {
                const searchInput = document.getElementById('writingSearch');
                const clearButton = document.getElementById('clearSearch');
                
                if (!searchInput) return;

                // Search input handler
                searchInput.addEventListener('input', (e) => {
                    this.searchTerm = e.target.value.toLowerCase();
                    clearButton.style.display = this.searchTerm ? 'block' : 'none';
                    
                    // Filter articles
                    this.filterArticles(this.activeCategory);

    const styleSheet = document.createElement('style');
    styleSheet.textContent = sparkleCSS;
    document.head.appendChild(styleSheet);
    
    console.log('✅ Publications Manager initialized successfully');
});

// Expose global functions for inline handlers
window.refreshPublications = () => {
    if (window.publicationsManager) {
        window.publicationsManager.refresh();
    }
};

window.filterPublications = (category) => {
    if (window.publicationsManager) {
        window.publicationsManager.filterPublications(category);
    }
};

// Enhanced interaction handlers
document.addEventListener('DOMContentLoaded', () => {
    // Add smooth scroll behavior for the section
    const publicationsSection = document.querySelector('.publications-section');
    if (publicationsSection) {
        // Add scroll-to functionality
        window.scrollToPublications = () => {
            publicationsSection.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        };
    }

    // Add touch gesture support for mobile
    let touchStartX = 0;
    let touchStartY = 0;
    
    document.querySelectorAll('.publication-card').forEach(card => {
        card.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
        }, { passive: true });
        
        card.addEventListener('touchend', (e) => {
            const touchEndX = e.changedTouches[0].clientX;
            const touchEndY = e.changedTouches[0].clientY;
            
            const deltaX = touchEndX - touchStartX;
            const deltaY = touchEndY - touchStartY;
            
            // Detect swipe gestures
            if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 50) {
                if (deltaX > 0) {
                    // Swipe right - could trigger next action
                    window.publicationsManager?.trackEvent('swipe_gesture', {
                        direction: 'right',
                        publication: card.querySelector('h4').textContent
                    });
                } else {
                    // Swipe left - could trigger previous action
                    window.publicationsManager?.trackEvent('swipe_gesture', {
                        direction: 'left',
                        publication: card.querySelector('h4').textContent
                    });
                }
            }
        }, { passive: true });
    });

    // Add intersection observer for lazy loading images
    if ('IntersectionObserver' in window) {
        const imageObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    if (img.dataset.src) {
                        img.src = img.dataset.src;
                        img.removeAttribute('data-src');
                        imageObserver.unobserve(img);
                    }
                }
            });
        });

        document.querySelectorAll('.publication-logo img[data-src]').forEach(img => {
            imageObserver.observe(img);
        });
    }

    // Add error handling for broken images
    document.querySelectorAll('.publication-logo img').forEach(img => {
        img.addEventListener('error', () => {
            // Replace with fallback icon
            img.style.display = 'none';
            const fallback = document.createElement('div');
            fallback.innerHTML = '<i class="fas fa-globe" style="font-size: 2rem; color: var(--text-secondary);"></i>';
            fallback.style.display = 'flex';
            fallback.style.alignItems = 'center';
            fallback.style.justifyContent = 'center';
            fallback.style.width = '100%';
            fallback.style.height = '100%';
            img.parentNode.appendChild(fallback);
            
            window.publicationsManager?.trackEvent('image_error', {
                src: img.src,
                publication: img.closest('.publication-card')?.querySelector('h4')?.textContent
            });
        });
    });

    // Add context menu for cards
    document.querySelectorAll('.publication-card').forEach(card => {
        card.addEventListener('contextmenu', (e) => {
            e.preventDefault();
            
            // Create custom context menu
            const contextMenu = document.createElement('div');
            contextMenu.className = 'context-menu';
            contextMenu.innerHTML = `
                <div class="context-menu-item" data-action="open">
                    <i class="fas fa-external-link-alt"></i>
                    Open in New Tab
                </div>
                <div class="context-menu-item" data-action="copy">
                    <i class="fas fa-copy"></i>
                    Copy Link
                </div>
                <div class="context-menu-item" data-action="share">
                    <i class="fas fa-share"></i>
                    Share
                </div>
            `;
            
            contextMenu.style.cssText = `
                position: fixed;
                top: ${e.clientY}px;
                left: ${e.clientX}px;
                background: var(--white);
                border: 1px solid var(--gray-200);
                border-radius: 0.5rem;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
                z-index: 1000;
                min-width: 150px;
                overflow: hidden;
            `;
            
            document.body.appendChild(contextMenu);
            
            // Handle context menu clicks
            contextMenu.addEventListener('click', (menuEvent) => {
                const action = menuEvent.target.closest('.context-menu-item')?.dataset.action;
                const publication = card.querySelector('h4').textContent;
                
                switch (action) {
                    case 'open':
                        window.open(window.publicationsManager.getPublicationURL(publication), '_blank');
                        break;
                    case 'copy':
                        navigator.clipboard.writeText(window.publicationsManager.getPublicationURL(publication));
                        window.publicationsManager?.showNotification('Link copied to clipboard!', 'success');
                        break;
                    case 'share':
                        if (navigator.share) {
                            navigator.share({
                                title: publication,
                                url: window.publicationsManager.getPublicationURL(publication)
                            });
                        }
                        break;
                }
                
                window.publicationsManager?.trackEvent('context_menu_action', {
                    action: action,
                    publication: publication
                });
                
                contextMenu.remove();
            });
            
            // Remove context menu on outside click
            const removeContextMenu = (outsideEvent) => {
                if (!contextMenu.contains(outsideEvent.target)) {
                    contextMenu.remove();
                    document.removeEventListener('click', removeContextMenu);
                }
            };
            
            setTimeout(() => {
                document.addEventListener('click', removeContextMenu);
            }, 100);
        });
    });
});

// Performance optimizations
document.addEventListener('DOMContentLoaded', () => {
    // Preload critical publication logos
    const preloadImages = [
        'https://upload.wikimedia.org/wikipedia/commons/8/8e/Medium_logo.svg',
        'https://upload.wikimedia.org/wikipedia/commons/4/4b/Wattpad_Logo.svg',
        'https://upload.wikimedia.org/wikipedia/commons/e/ef/Stack_Overflow_icon.svg'
    ];
    
    preloadImages.forEach(src => {
        const link = document.createElement('link');
        link.rel = 'preload';
        link.as = 'image';
        link.href = src;
        document.head.appendChild(link);
    });

    // Optimize animations based on device capabilities
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)');
    
    if (prefersReducedMotion.matches) {
        document.documentElement.style.setProperty('--animation-duration', '0.01s');
    }

    // Monitor performance
    if ('PerformanceObserver' in window) {
        const observer = new PerformanceObserver((list) => {
            list.getEntries().forEach((entry) => {
                if (entry.entryType === 'measure' && entry.name.includes('publications')) {
                    window.publicationsManager?.trackEvent('performance_measure', {
                        name: entry.name,
                        duration: entry.duration,
                        start_time: entry.startTime
                    });
                }
            });
        });
        
        observer.observe({ entryTypes: ['measure'] });
    }
});

// Export for module systems
if (typeof module !== 'undefined' && module.exports) {
    module.exports = PublicationsManager;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Writing Showcase | PegeArts - Cultural AI Innovation</title>
    <meta name="description" content="Explore technical articles, cultural insights, and creative writing from Thanatsitt Santisamranwilai covering AI development, VTuber technology, and cross-cultural design.">
    
    <!-- SEO Meta Tags -->
    <meta property="og:title" content="Writing Showcase | PegeArts - Cultural AI Innovation">
    <meta property="og:description" content="Explore technical articles, cultural insights, and creative writing covering AI development, VTuber technology, and cross-cultural design.">
    <meta property="og:image" content="https://images.unsplash.com/photo-1677442136019-21780ecad995?w=1200&h=630&fit=crop">
    <meta property="og:url" content="https://pegearts.com/writing">
    <meta name="twitter:card" content="summary_large_image">
    
    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Your existing CSS variables and base styles would go here -->
    <style>
        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --accent-color: #f093fb;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --error-color: #ef4444;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --white: #ffffff;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            --background: #ffffff;
            --surface: #f8fafc;
            --border: #e2e8f0;
            --shadow: rgba(0, 0, 0, 0.1);
            
            /* Dark theme colors */
            --dark-bg: #0f172a;
            --dark-surface: #1e293b;
            --dark-card: #334155;
            --dark-border: #475569;
            --dark-text: #f1f5f9;
            --dark-text-secondary: #cbd5e1;
            
            /* Color RGB values for alpha channels */
            --primary-rgb: 102, 126, 234;
            --secondary-rgb: 118, 75, 162;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--background);
            transition: all 0.3s ease;
        }

        .dark-theme {
            --background: var(--dark-bg);
            --surface: var(--dark-surface);
            --text-primary: var(--dark-text);
            --text-secondary: var(--dark-text-secondary);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: var(--gray-200);
            color: var(--text-primary);
        }

        .dark-theme .btn-secondary {
            background: var(--dark-border);
            color: var(--dark-text);
        }

        .btn-secondary:hover {
            background: var(--gray-300);
        }

        .dark-theme .btn-secondary:hover {
            background: var(--dark-card);
        }

        /* Enhanced CSS for Writing Showcase */
        .writing-showcase {
            padding-top: 6rem;
            min-height: 100vh;
        }

        /* Hero Section */
        .hero-section {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 6rem 0 4rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 100" fill="white" opacity="0.1"><polygon points="0,0 1000,0 1000,100"/></svg>');
            background-size: 100% 100%;
        }

        .hero-content {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 1;
        }

        .hero-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(3rem, 6vw, 5rem);
            font-weight: 700;
            margin-bottom: 1.5rem;
            animation: fadeInUp 1s ease;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            opacity: 0.95;
            margin-bottom: 3rem;
            line-height: 1.6;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            animation: fadeInUp 1s ease 0.2s both;
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 2rem;
            max-width: 600px;
            margin: 0 auto;
            animation: fadeInUp 1s ease 0.4s both;
        }

        .stat-item {
            text-align: center;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-number {
            display: block;
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, #fff, #f0f0f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label {
            font-size: 0.95rem;
            opacity: 0.9;
            font-weight: 500;
        }

        /* Search Section */
        .search-section {
            padding: 2rem 0;
            background: var(--gray-50);
            border-bottom: 1px solid var(--border);
        }

        .dark-theme .search-section {
            background: var(--dark-surface);
            border-bottom-color: var(--dark-border);
        }

        .search-container {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }

        .search-box {
            position: relative;
            display: inline-block;
            width: 100%;
            max-width: 500px;
        }

        .search-box i {
            position: absolute;
            left: 1.5rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            z-index: 2;
        }

        .search-box input {
            width: 100%;
            padding: 1.25rem 1.5rem 1.25rem 3.5rem;
            border: 2px solid var(--gray-300);
            border-radius: 3rem;
            font-size: 1.1rem;
            background: var(--white);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .dark-theme .search-box input {
            background: var(--dark-card);
            border-color: var(--dark-border);
            color: var(--dark-text);
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 4px rgba(var(--primary-rgb), 0.1);
        }

        /* Featured Story Section */
        .featured-story {
            padding: 5rem 0;
            background: var(--background);
        }

        .dark-theme .featured-story {
            background: var(--dark-bg);
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            text-align: center;
            margin-bottom: 3rem;
            color: var(--text-primary);
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -0.5rem;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: 2px;
        }

        .dark-theme .section-title {
            color: var(--dark-text);
        }

        .featured-card {
            background: var(--white);
            border-radius: 2rem;
            padding: 3rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--gray-200);
            position: relative;
            overflow: hidden;
        }

        .dark-theme .featured-card {
            background: var(--dark-surface);
            border-color: var(--dark-border);
        }

        .featured-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        }

        .featured-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .featured-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
            line-height: 1.3;
        }

        .dark-theme .featured-title {
            color: var(--dark-text);
        }

        .featured-description {
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .dark-theme .featured-description {
            color: var(--dark-text-secondary);
        }

        .featured-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-bottom: 2.5rem;
        }

        .tag {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 1.5rem;
            font-size: 0.85rem;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.3);
        }

        .featured-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .preview-container {
            border-radius: 1.5rem;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
            background: var(--white);
        }

        .dark-theme .preview-container {
            background: var(--dark-card);
        }

        .preview-placeholder {
            background: linear-gradient(135deg, var(--gray-100), var(--gray-200));
            border-radius: 1.5rem;
            height: 400px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dark-theme .preview-placeholder {
            background: linear-gradient(135deg, var(--dark-card), var(--dark-border));
            color: var(--dark-text-secondary);
        }

        .preview-placeholder:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .preview-placeholder i {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .preview-placeholder span {
            font-size: 1.1rem;
            font-weight: 600;
        }

        /* Category Filter */
        .category-filter {
            padding: 3rem 0;
            background: var(--gray-50);
        }

        .dark-theme .category-filter {
            background: var(--dark-surface);
        }

        .filter-tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .filter-tab {
            background: var(--white);
            color: var(--text-primary);
            border: 2px solid var(--gray-300);
            border-radius: 2rem;
            padding: 1rem 2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dark-theme .filter-tab {
            background: var(--dark-card);
            color: var(--dark-text);
            border-color: var(--dark-border);
        }

        .filter-tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .filter-tab:hover::before {
            left: 100%;
        }

        .filter-tab:hover,
        .filter-tab.active {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-color: var(--primary-color);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(var(--primary-rgb), 0.3);
        }

        /* Writing Grid */
        .writing-grid {
            padding: 5rem 0;
        }

        .writing-cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 2.5rem;
        }

        .writing-card {
            background: var(--white);
            border-radius: 1.5rem;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--gray-200);
            transition: all 0.4s ease;
            position: relative;
        }

        .dark-theme .writing-card {
            background: var(--dark-surface);
            border-color: var(--dark-border);
        }

        .writing-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
        }

        .card-image {
            position: relative;
            height: 250px;
            overflow: hidden;
        }

        .card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .writing-card:hover .card-image img {
            transform: scale(1.1);
        }

        .card-overlay {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 1.5rem;
            font-size: 0.85rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .card-content {
            padding: 2.5rem;
        }

        .card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
        }

        .category {
            background: var(--accent-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 1.5rem;
            font-weight: 600;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .date {
            color: var(--text-secondary);
            font-weight: 500;
        }

        .dark-theme .date {
            color: var(--dark-text-secondary);
        }

        .card-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.6rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
            line-height: 1.4;
            font-weight: 600;
        }

        .dark-theme .card-title {
            color: var(--dark-text);
        }

        .card-excerpt {
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 2rem;
            font-size: 1rem;
        }

        .dark-theme .card-excerpt {
            color: var(--dark-text-secondary);
        }

        .card-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .card-tags .tag {
            background: var(--gray-100);
            color: var(--text-secondary);
            font-size: 0.75rem;
            padding: 0.25rem 0.75rem;
            box-shadow: none;
        }

        .dark-theme .card-tags .tag {
            background: var(--dark-border);
            color: var(--dark-text-secondary);
        }

        .read-more {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 700;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .read-more:hover {
            color: var(--secondary-color);
            transform: translateX(8px);
        }

        .read-more i {
            transition: transform 0.3s ease;
        }

        .read-more:hover i {
            transform: translateX(5px);
        }

        /* Load More Section */
        .load-more-section {
            text-align: center;
            padding: 3rem 0;
        }

        .load-more-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 1.25rem 3rem;
            border-radius: 3rem;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(var(--primary-rgb), 0.3);
        }

        .load-more-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(var(--primary-rgb), 0.4);
        }

        /* Newsletter Section */
        .newsletter-section {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 5rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .newsletter-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: float 20s ease-in-out infinite;
        }

        .newsletter-content {
            max-width: 700px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 1;
        }

        .newsletter-content h2 {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        .newsletter-content p {
            font-size: 1.3rem;
            opacity: 0.95;
            margin-bottom: 3rem;
            line-height: 1.6;
        }

        .newsletter-form {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        .newsletter-form input {
            flex: 1;
            min-width: 300px;
            padding: 1.25rem 2rem;
            border: none;
            border-radius: 3rem;
            font-size: 1.1rem;
            background: rgba(255, 255, 255, 0.95);
            color: var(--text-primary);
            backdrop-filter: blur(10px);
        }

        .newsletter-form input::placeholder {
            color: var(--text-secondary);
        }

        .newsletter-form .btn {
            padding: 1.25rem 2.5rem;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }

        .newsletter-form .btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .newsletter-note {
            font-size: 0.95rem;
            opacity: 0.8;
        }

        /* Writing Stats */
        .writing-stats {
            padding: 5rem 0;
            background: var(--background);
        }

        .dark-theme .writing-stats {
            background: var(--dark-bg);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2.5rem;
        }

        .stat-card {
            background: var(--white);
            padding: 3rem 2rem;
            border-radius: 1.5rem;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            border: 1px solid var(--gray-200);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dark-theme .stat-card {
            background: var(--dark-surface);
            border-color: var(--dark-border);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .stat-card i {
            font-size: 3.5rem;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
        }

        .stat-card h3 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
            font-weight: 700;
        }

        .dark-theme .stat-card h3 {
            color: var(--dark-text);
        }

        .stat-card p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .dark-theme .stat-card p {
            color: var(--dark-text-secondary);
        }

        /* Notification System */
        .notification {
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: var(--success-color);
            color: white;
            padding: 1rem 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transform: translateX(120%);
            transition: transform 0.3s ease;
            z-index: 1000;
            font-weight: 600;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: var(--error-color);
        }

        /* Reading Progress Bar */
        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .dark-theme .reading-progress {
            background: rgba(255, 255, 255, 0.1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes float {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg); 
            }
            50% { 
                transform: translateY(-20px) rotate(180deg); 
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .writing-cards-container {
                grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
                gap: 2rem;
            }
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .section-title {
                font-size: 2.5rem;
            }
            
            .featured-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .featured-card {
                padding: 2rem;
            }
            
            .writing-cards-container {
                grid-template-columns: 1fr;
            }
            
            .filter-tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .newsletter-form {
                flex-direction: column;
                align-items: center;
            }
            
            .newsletter-form input {
                width: 100%;
                max-width: 400px;
                min-width: unset;
            }
            
            .hero-stats {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .notification {
                top: 1rem;
                right: 1rem;
                left: 1rem;
                transform: translateY(-120%);
            }
            
            .notification.show {
                transform: translateY(0);
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .featured-title {
                font-size: 1.8rem;
            }
            
            .card-content {
                padding: 1.5rem;
            }
            
                        .stat-card {
                padding: 2rem 1.5rem;
            }
            
            .newsletter-content h2 {
                font-size: 2rem;
            }
            
            .newsletter-content p {
                font-size: 1.1rem;
            }
            
            .hero-content {
                padding: 0 1rem;
            }
            
            .container {
                padding: 0 1rem;
            }
        }

        /* High contrast mode */
        @media (prefers-contrast: high) {
            .writing-card {
                border-width: 2px;
            }
            
            .btn {
                border: 2px solid currentColor;
            }
            
            .tag {
                outline: 2px solid currentColor;
            }
        }

        /* Reduced motion */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Print styles */
        @media print {
            .hero-section,
            .newsletter-section,
            .load-more-section {
                display: none;
            }
            
            .writing-card {
                box-shadow: none;
                border: 2px solid #000;
                break-inside: avoid;
                margin-bottom: 2rem;
            }
            
            .reading-progress {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Reading Progress Bar -->
    <div class="reading-progress">
        <div class="progress-fill"></div>
    </div>

    <!-- Navigation (assuming you have a navigation component) -->
    <nav class="navbar">
        <!-- Your existing navigation would go here -->
    </nav>

    <!-- Main Content -->
    <main class="writing-showcase">
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="hero-content">
                <h1 class="hero-title">Writing Showcase</h1>
                <p class="hero-subtitle">
                    Exploring the intersection of technology, culture, and creativity through 
                    technical insights, cultural analysis, and creative storytelling.
                </p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <span class="stat-number">150+</span>
                        <span class="stat-label">Articles Published</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">50K+</span>
                        <span class="stat-label">Readers Reached</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">25</span>
                        <span class="stat-label">Topics Covered</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Search Section -->
        <section class="search-section">
            <div class="container">
                <div class="search-container">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="writingSearch" placeholder="Search articles, topics, or tags...">
                        <button type="button" id="clearSearch" class="clear-search" style="display: none;">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="search-suggestions" id="searchSuggestions" style="display: none;"></div>
                </div>
            </div>
        </section>

        <!-- Featured Story -->
        <section class="featured-story">
            <div class="container">
                <h2 class="section-title">Featured Story</h2>
                <div class="featured-card">
                    <div class="featured-content">
                        <div class="featured-text">
                            <h3 class="featured-title">The Future of VTuber Technology</h3>
                            <p class="featured-description">
                                Exploring how artificial intelligence and motion capture technology are revolutionizing 
                                virtual content creation, from real-time facial tracking to AI-driven personality systems. 
                                A deep dive into the technical challenges and cultural implications of virtual beings.
                            </p>
                            <div class="featured-tags">
                                <span class="tag">AI Technology</span>
                                <span class="tag">VTuber</span>
                                <span class="tag">Motion Capture</span>
                                <span class="tag">Cultural Impact</span>
                            </div>
                            <div class="featured-actions">
                                <a href="#" class="btn btn-primary">
                                    <i class="fas fa-book-open"></i>
                                    Read Full Article
                                </a>
                                <button class="btn btn-secondary" onclick="toggleEmbedView()">
                                    <i class="fas fa-code"></i>
                                    View Embedded
                                </button>
                            </div>
                        </div>
                        <div class="featured-visual">
                            <div class="preview-container">
                                <div class="preview-placeholder" id="previewPlaceholder" onclick="toggleEmbedView()">
                                    <i class="fas fa-play-circle"></i>
                                    <span>Click to preview embedded content</span>
                                </div>
                                <div id="embedContainer" style="display: none;">
                                    <iframe 
                                        src="https://codepen.io/hexagoncircle/embed/preview/XWbWKwL?height=400&theme-id=dark&default-tab=result" 
                                        style="width: 100%; height: 400px; border: 0; border-radius: 4px; overflow: hidden;" 
                                        title="3D CSS Text Animation" 
                                        allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
                                        sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts">
                                    </iframe>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Category Filter -->
        <section class="category-filter">
            <div class="container">
                <div class="filter-tabs">
                    <button class="filter-tab active" data-category="all">All Articles</button>
                    <button class="filter-tab" data-category="technical">Technical</button>
                    <button class="filter-tab" data-category="cultural">Cultural</button>
                    <button class="filter-tab" data-category="creative">Creative</button>
                    <button class="filter-tab" data-category="tutorial">Tutorials</button>
                    <button class="filter-tab" data-category="analysis">Analysis</button>
                </div>
            </div>
        </section>

        <!-- Writing Grid -->
        <section class="writing-grid">
            <div class="container">
                <div class="writing-cards-container">
                    <!-- Article 1 -->
                    <article class="writing-card" data-category="technical">
                        <div class="card-image">
                            <img src="https://images.unsplash.com/photo-1677442136019-21780ecad995?w=400&h=250&fit=crop" alt="AI Development">
                            <div class="card-overlay">5 min read</div>
                        </div>
                        <div class="card-content">
                            <div class="card-meta">
                                <span class="category">Technical</span>
                                <span class="date">March 15, 2024</span>
                            </div>
                            <h3 class="card-title">Building AI-Powered Real-Time Motion Capture</h3>
                            <p class="card-excerpt">
                                A comprehensive guide to implementing real-time facial tracking and motion capture 
                                systems using OpenCV, MediaPipe, and custom neural networks for virtual avatar applications.
                            </p>
                            <div class="card-tags">
                                <span class="tag">Python</span>
                                <span class="tag">OpenCV</span>
                                <span class="tag">MediaPipe</span>
                                <span class="tag">Neural Networks</span>
                            </div>
                            <a href="#" class="read-more">
                                Read More <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </article>

                    <!-- Article 2 -->
                    <article class="writing-card" data-category="cultural">
                        <div class="card-image">
                            <img src="https://images.unsplash.com/photo-1528164344705-47542687000d?w=400&h=250&fit=crop" alt="Cultural Analysis">
                            <div class="card-overlay">8 min read</div>
                        </div>
                        <div class="card-content">
                            <div class="card-meta">
                                <span class="category">Cultural</span>
                                <span class="date">March 10, 2024</span>
                            </div>
                            <h3 class="card-title">The Cultural Impact of Virtual Beings</h3>
                            <p class="card-excerpt">
                                Examining how VTubers and virtual influencers are reshaping entertainment, social 
                                interaction, and cultural norms across different societies and age groups.
                            </p>
                            <div class="card-tags">
                                <span class="tag">Sociology</span>
                                <span class="tag">VTuber Culture</span>
                                <span class="tag">Digital Identity</span>
                                <span class="tag">Social Media</span>
                            </div>
                            <a href="#" class="read-more">
                                Read More <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </article>

                    <!-- Article 3 -->
                    <article class="writing-card" data-category="tutorial">
                        <div class="card-image">
                            <img src="https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=250&fit=crop" alt="Coding Tutorial">
                            <div class="card-overlay">12 min read</div>
                        </div>
                        <div class="card-content">
                            <div class="card-meta">
                                <span class="category">Tutorial</span>
                                <span class="date">March 5, 2024</span>
                            </div>
                            <h3 class="card-title">Creating Interactive 3D Animations with CSS</h3>
                            <p class="card-excerpt">
                                Step-by-step tutorial on building engaging 3D animations using pure CSS, including 
                                transforms, keyframes, and performance optimization techniques.
                            </p>
                            <div class="card-tags">
                                <span class="tag">CSS</span>
                                <span class="tag">3D Animation</span>
                                <span class="tag">Frontend</span>
                                <span class="tag">Performance</span>
                            </div>
                            <a href="#" class="read-more">
                                Read More <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </article>

                    <!-- Article 4 -->
                    <article class="writing-card" data-category="analysis">
                        <div class="card-image">
                            <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400&h=250&fit=crop" alt="Data Analysis">
                            <div class="card-overlay">6 min read</div>
                        </div>
                        <div class="card-content">
                            <div class="card-meta">
                                <span class="category">Analysis</span>
                                <span class="date">February 28, 2024</span>
                            </div>
                            <h3 class="card-title">Data-Driven Design in Virtual Environments</h3>
                            <p class="card-excerpt">
                                Analyzing user behavior patterns in virtual spaces to optimize UI/UX design decisions 
                                and improve engagement metrics in VTuber streaming platforms.
                            </p>
                            <div class="card-tags">
                                <span class="tag">Data Science</span>
                                <span class="tag">UX Design</span>
                                <span class="tag">Analytics</span>
                                <span class="tag">Virtual UI</span>
                            </div>
                            <a href="#" class="read-more">
                                Read More <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </article>

                    <!-- Article 5 -->
                    <article class="writing-card" data-category="creative">
                        <div class="card-image">
                            <img src="https://images.unsplash.com/photo-1579952363873-27d3bfad9c0d?w=400&h=250&fit=crop" alt="Creative Writing">
                            <div class="card-overlay">10 min read</div>
                        </div>
                        <div class="card-content">
                            <div class="card-meta">
                                <span class="category">Creative</span>
                                <span class="date">February 22, 2024</span>
                            </div>
                            <h3 class="card-title">The Art of Digital Storytelling</h3>
                            <p class="card-excerpt">
                                Exploring narrative techniques in digital media, from interactive fiction to virtual 
                                character development, and how technology enhances storytelling possibilities.
                            </p>
                            <div class="card-tags">
                                <span class="tag">Storytelling</span>
                                <span class="tag">Digital Media</span>
                                <span class="tag">Interactive Fiction</span>
                                <span class="tag">Character Design</span>
                            </div>
                            <a href="#" class="read-more">
                                Read More <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </article>

                    <!-- Article 6 -->
                    <article class="writing-card" data-category="technical">
                        <div class="card-image">
                            <img src="https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=400&h=250&fit=crop" alt="Machine Learning">
                            <div class="card-overlay">15 min read</div>
                        </div>
                        <div class="card-content">
                            <div class="card-meta">
                                <span class="category">Technical</span>
                                <span class="date">February 18, 2024</span>
                            </div>
                            <h3 class="card-title">Implementing Real-Time Emotion Recognition</h3>
                            <p class="card-excerpt">
                                Building emotion detection systems using computer vision and deep learning to create 
                                responsive virtual characters that react to user emotions in real-time.
                            </p>
                            <div class="card-tags">
                                <span class="tag">Machine Learning</span>
                                <span class="tag">Computer Vision</span>
                                <span class="tag">TensorFlow</span>
                                <span class="tag">Real-time AI</span>
                            </div>
                            <a href="#" class="read-more">
                                Read More <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <!-- Load More Section -->
        <section class="load-more-section">
            <div class="container">
                <button class="load-more-btn" onclick="writingManager.loadMoreArticles()">
                    <i class="fas fa-plus"></i>
                    Load More Articles
                </button>
            </div>
        </section>

        <!-- Writing Stats -->
        <section class="writing-stats">
            <div class="container">
                <h2 class="section-title">Writing Impact</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-users"></i>
                        <h3>50,000+</h3>
                        <p>Monthly Readers</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-globe"></i>
                        <h3>25</h3>
                        <p>Countries Reached</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-award"></i>
                        <h3>5</h3>
                        <p>Industry Awards</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-share-alt"></i>
                        <h3>10,000+</h3>
                        <p>Social Shares</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Newsletter Section -->
        <section class="newsletter-section">
            <div class="newsletter-content">
                <h2>Stay Updated</h2>
                <p>Get the latest articles, tutorials, and insights delivered directly to your inbox.</p>
                <form class="newsletter-form">
                    <input type="email" placeholder="Enter your email address" required>
                    <button type="submit" class="btn">
                        <i class="fas fa-paper-plane"></i>
                        Subscribe
                    </button>
                </form>
                <p class="newsletter-note">
                    No spam, unsubscribe anytime. Join 5,000+ subscribers who trust our content.
                </p>
            </div>
        </section>
    </main>

    <!-- Footer (assuming you have a footer component) -->
    <footer class="footer">
        <!-- Your existing footer would go here -->
    </footer>

    <!-- JavaScript -->
    <script>
        // Complete Writing Showcase JavaScript Implementation
        class WritingShowcaseManager {
            constructor() {
                this.currentPage = 1;
                this.articlesPerPage = 6;
                this.totalArticles = 0;
                this.filteredArticles = [];
                this.searchTerm = '';
                this.activeCategory = 'all';
                this.tracked25 = false;
                this.tracked50 = false;
                this.tracked75 = false;
                this.startTime = Date.now();
                this.searchTimeout = null;
                this.init();
            }

            init() {
                this.setupCategoryFiltering();
                this.setupSearchFunctionality();
                this.setupIntersectionObserver();
                this.setupNewsletterForm();
                this.setupEmbedToggle();
                this.setupSocialSharing();
                this.setupReadingProgress();
                this.setupAnalytics();
                this.loadArticles();
            }

            setupCategoryFiltering() {
                const filterTabs = document.querySelectorAll('.filter-tab');
                
                filterTabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        const category = tab.dataset.category;
                        this.activeCategory = category;
                        
                        // Update active tab
                        filterTabs.forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');
                        
                        // Filter and animate cards
                        this.filterArticles(category);
                        
                        // Analytics
                        this.trackEvent('category_filter', {
                            category: category
                        });
                    });
                });
            }

            filterArticles(category) {
                const writingCards = document.querySelectorAll('.writing-card');
                let visibleCount = 0;

                writingCards.forEach((card, index) => {
                    const cardCategory = card.dataset.category;
                    const shouldShow = category === 'all' || cardCategory === category;
                    
                    if (shouldShow && this.matchesSearch(card)) {
                        // Stagger animation
                        setTimeout(() => {
                            card.style.display = 'block';
                            card.style.opacity = '0';
                            card.style.transform = 'translateY(30px)';
                            
                            requestAnimationFrame(() => {
                                card.style.transition = 'all 0.5s ease';
                                card.style.opacity = '1';
                                card.style.transform = 'translateY(0)';
                            });
                        }, index * 100);
                        
                        visibleCount++;
                    } else {
                        card.style.display = 'none';
                    }
                });

                // Update results count
                this.updateResultsCount(visibleCount);
            }

            matchesSearch(card) {
                if (!this.searchTerm) return true;
                
                const title = card.querySelector('.card-title').textContent.toLowerCase();
                const excerpt = card.querySelector('.card-excerpt').textContent.toLowerCase();
                const tags = Array.from(card.querySelectorAll('.tag')).map(tag => 
                    tag.textContent.toLowerCase()
                );
                
                return title.includes(this.searchTerm) || 
                       excerpt.includes(this.searchTerm) || 
                       tags.some(tag => tag.includes(this.searchTerm));
            }

            setupSearchFunctionality() {
                const searchInput = document.getElementById('writingSearch');
                const clearButton = document.getElementById('clearSearch');
                
                if (!searchInput) return;

                // Search input handler
                searchInput.addEventListener('input', (e) => {
                    this.searchTerm = e.target.value.toLowerCase();
                    clearButton.style.display = this.searchTerm ? 'block' : 'none';
                    
                    // Filter articles
                    this.filterArticles(this.activeCategory);
                    
                    // Debounced analytics
                    clearTimeout(this.searchTimeout);
                    this.searchTimeout = setTimeout(() => {
                        this.trackEvent('search', {
                            search_term: this.searchTerm,
                            results_count: document.querySelectorAll('.writing-card[style*="display: block"]').length
                        });
                    }, 1000);
                });
                
                // Clear search
                if (clearButton) {
                    clearButton.addEventListener('click', () => {
                        searchInput.value = '';
                        this.searchTerm = '';
                        clearButton.style.display = 'none';
                        this.filterArticles(this.activeCategory);
                    });
                }
            }

            updateResultsCount(count) {
                let countElement = document.querySelector('.results-count');
                if (!countElement) {
                    countElement = document.createElement('div');
                    countElement.className = 'results-count';
                    const gridContainer = document.querySelector('.writing-cards-container');
                    if (gridContainer) {
                        gridContainer.parentElement.insertBefore(countElement, gridContainer);
                    }
                }
                
                countElement.textContent = `${count} article${count !== 1 ? 's' : ''} found`;
                countElement.style.display = count === 0 ? 'none' : 'block';
            }

            setupIntersectionObserver() {
                const observerOptions = {
                    threshold: 0.1,
                    rootMargin: '0px 0px -50px 0px'
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                            
                            // Track section views
                            const sectionName = entry.target.className.split(' ')[0];
                            this.trackEvent('section_view', {
                                section: sectionName
                            });
                        }
                    });
                }, observerOptions);

                // Observe sections and cards
                document.querySelectorAll('.writing-card, .stat-card, .featured-card, .hero-section, .newsletter-section').forEach(el => {
                    el.classList.add('fade-in');
                    observer.observe(el);
                });
            }

            setupNewsletterForm() {
                const form = document.querySelector('.newsletter-form');
                if (!form) return;
                
                form.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    
                    const email = form.querySelector('input[type="email"]').value;
                    const button = form.querySelector('button[type="submit"]');
                    const originalHTML = button.innerHTML;
                    
                    // Validate email
                    if (!this.isValidEmail(email)) {
                        this.showNotification('Please enter a valid email address', 'error');
                        return;
                    }
                    
                    // Show loading state
                    button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Subscribing...';
                    button.disabled = true;
                    
                    try {
                        // Simulate API call
                        await this.subscribeToNewsletter(email);
                        
                        // Success state
                        button.innerHTML = '<i class="fas fa-check"></i> Subscribed!';
                        this.showNotification('Successfully subscribed to newsletter!', 'success');
                        
                        // Track conversion
                        this.trackEvent('newsletter_signup', {
                            source: 'writing_showcase',
                            email_domain: email.split('@')[1]
                        });
                        
                        // Reset form after delay
                        setTimeout(() => {
                            form.reset();
                            button.innerHTML = originalHTML;
                            button.disabled = false;
                        }, 3000);
                        
                    } catch (error) {
                        // Error state
                        button.innerHTML = originalHTML;
                        button.disabled = false;
                        this.showNotification('Subscription failed. Please try again.', 'error');
                        
                        this.trackEvent('newsletter_error', {
                            error: error.message
                        });
                    }
                });
            }

            async subscribeToNewsletter(email) {
                // Simulate API call
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        // Simulate 90% success rate
                        if (Math.random() > 0.1) {
                            resolve({ success: true });
                        } else {
                            reject(new Error('Network error'));
                        }
                    }, 2000);
                });
            }

            isValidEmail(email) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(email);
            }

            setupEmbedToggle() {
                // This function is called by the onclick handler
                window.toggleEmbedView = () => {
                    const embedContainer = document.getElementById('embedContainer');
                    const placeholder = document.getElementById('previewPlaceholder');
                    const button = document.querySelector('[onclick="toggleEmbedView()"]');
                    
                    if (embedContainer && placeholder && button) {
                        if (embedContainer.style.display === 'none' || !embedContainer.style.display) {
                            embedContainer.style.display = 'block';
                            placeholder.style.display = 'none';
                            button.innerHTML = '<i class="fas fa-eye-slash"></i> Hide Embedded';
                            
                            this.trackEvent('embed_view', {
                                action: 'show'
                            });
                        } else {
                            embedContainer.style.display = 'none';
                            placeholder.style.display = 'flex';
                            button.innerHTML = '<i class="fas fa-code"></i> View Embedded';
                            
                            this.trackEvent('embed_view', {
                                action: 'hide'
                            });
                        }
                    }
                };
            }

            setupSocialSharing() {
                // Add social share buttons to articles
                document.querySelectorAll('.writing-card').forEach(card => {
                    const socialHTML = `
                        <div class="social-share">
                            <button class="share-btn" onclick="window.writingManager.shareArticle('twitter', this)" data-platform="twitter">
                                <i class="fab fa-twitter"></i>
                            </button>
                            <button class="share-btn" onclick="window.writingManager.shareArticle('linkedin', this)" data-platform="linkedin">
                                <i class="fab fa-linkedin"></i>
                            </button>
                            <button class="share-btn" onclick="window.writingManager.shareArticle('copy', this)" data-platform="copy">
                                <i class="fas fa-link"></i>
                            </button>
                        </div>
                    `;
                    
                    card.querySelector('.card-content').insertAdjacentHTML('beforeend', socialHTML);
                });
            }

            shareArticle(platform, button) {
                const card = button.closest('.writing-card');
                const title = card.querySelector('.card-title').textContent;
                const url = window.location.href; // In real app, this would be the article URL
                
                switch (platform) {
                    case 'twitter':
                        window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(title)}&url=${encodeURIComponent(url)}`);
                        break;
                    case 'linkedin':
                        window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`);
                        break;
                    case 'copy':
                        navigator.clipboard.writeText(url).then(() => {
                            this.showNotification('Link copied to clipboard!', 'success');
                        });
                        break;
                }
                
                this.trackEvent('social_share', {
                    platform: platform,
                    article_title: title
                });
            }

            setupReadingProgress() {
                // Update progress on scroll
                window.addEventListener('scroll', () => {
                    const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
                    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                    const scrolled = (winScroll / height) * 100;
                    
                    const progressFill = document.querySelector('.progress-fill');
                    if (progressFill) {
                        progressFill.style.width = scrolled + '%';
                    }
                    
                    // Track reading progress milestones
                    if (scrolled > 25 && !this.tracked25) {
                        this.trackEvent('reading_progress', { milestone: '25%' });
                        this.tracked25 = true;
                    }
                    if (scrolled > 50 && !this.tracked50) {
                        this.trackEvent('reading_progress', { milestone: '50%' });
                        this.tracked50 = true;
                    }
                    if (scrolled > 75 && !this.tracked75) {
                        this.trackEvent('reading_progress', { milestone: '75%' });
                        this.tracked75 = true;
                    }
                });
            }

            setupAnalytics() {
                // Track article clicks
                document.querySelectorAll('.writing-card .read-more').forEach(link => {
                    link.addEventListener('click', (e) => {
                        const card = e.target.closest('.writing-card');
                        const title = card.querySelector('.card-title').textContent;
                        const category = card.dataset.category;
                        this.trackEvent('article_click', {
                            article_title: title,
                            category: category,
                            position: Array.from(document.querySelectorAll('.writing-card')).indexOf(card) + 1
                        });
                    });
                });
                
                // Track time on page
                window.addEventListener('beforeunload', () => {
                    const timeSpent = Math.round((Date.now() - this.startTime) / 1000);
                    this.trackEvent('time_on_page', {
                        duration_seconds: timeSpent
                    });
                });
            }

            loadArticles() {
                // This would typically load articles from an API
                // For now, we'll work with existing static content
                this.totalArticles = document.querySelectorAll('.writing-card').length;
                this.updateResultsCount(this.totalArticles);
            }

            showNotification(message, type = 'success') {
                // Remove existing notifications
                document.querySelectorAll('.notification').forEach(n => n.remove());
                
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <div class="notification-content">
                        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-triangle' : 'info-circle'}"></i>
                        <span>${message}</span>
                        <button class="notification-close" onclick="this.parentElement.parentElement.remove()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `;
                
                document.body.appendChild(notification);

                // Auto-show
                setTimeout(() => notification.classList.add('show'), 100);
                
                // Auto-hide after 5 seconds
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => notification.remove(), 300);
                }, 5000);
            }

            trackEvent(eventName, parameters = {}) {
                // Google Analytics 4 tracking
                if (typeof gtag !== 'undefined') {
                    gtag('event', eventName, {
                        event_category: 'writing_showcase',
                        ...parameters
                    });
                }
                
                // Console log for development
                console.log(`📊 Event: ${eventName}`, parameters);
            }

            // Load more articles (for pagination)
            async loadMoreArticles() {
                const loadMoreBtn = document.querySelector('.load-more-btn');
                if (!loadMoreBtn) return;
                
                const originalHTML = loadMoreBtn.innerHTML;
                loadMoreBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';
                loadMoreBtn.disabled = true;
                
                try {
                    // Simulate API call
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    
                    // In real app, append new articles here
                    this.showNotification('No more articles to load', 'info');
                    loadMoreBtn.style.display = 'none';
                    
                    this.trackEvent('load_more_articles', {
                        current_count: this.totalArticles
                    });
                    
                } catch (error) {
                    loadMoreBtn.innerHTML = originalHTML;
                    loadMoreBtn.disabled = false;
                    this.showNotification('Failed to load more articles', 'error');
                }
            }

            // Theme integration
            updateTheme(isDark) {
                // Update iframe theme
                const iframe = document.querySelector('iframe');
                if (iframe) {
                    const currentSrc = iframe.src;
                    const themeParam = isDark ? 'theme-id=dark' : 'theme-id=light';
                    
                    if (currentSrc.includes('theme-id')) {
                        iframe.src = currentSrc.replace(/theme-id=(dark|light)/, themeParam);
                    } else {
                        iframe.src = currentSrc + '&' + themeParam;
                    }
                }
                
                this.trackEvent('theme_change', {
                    theme: isDark ? 'dark' : 'light'
                });
            }

            // Keyboard shortcuts
            setupKeyboardShortcuts() {
                document.addEventListener('keydown', (e) => {
                    // Ctrl/Cmd + K for search
                    if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                        e.preventDefault();
                        const searchInput = document.getElementById('writingSearch');
                        if (searchInput) {
                            searchInput.focus();
                            this.trackEvent('keyboard_shortcut', { action: 'search_focus' });
                        }
                    }
                    
                    // Escape to clear search
                    if (e.key === 'Escape') {
                        const searchInput = document.getElementById('writingSearch');
                        if (searchInput && searchInput === document.activeElement) {
                            searchInput.value = '';
                            this.searchTerm = '';
                            const clearButton = document.getElementById('clearSearch');
                            if (clearButton) clearButton.style.display = 'none';
                            this.filterArticles(this.activeCategory);
                            this.trackEvent('keyboard_shortcut', { action: 'search_clear' });
                        }
                    }
                    
                    // Number keys for category filters
                    if (e.key >= '1' && e.key <= '6' && !e.ctrlKey && !e.metaKey && !e.altKey) {
                        const filterTabs = document.querySelectorAll('.filter-tab');
                        const index = parseInt(e.key) - 1;
                        if (filterTabs[index]) {
                            filterTabs[index].click();
                            this.trackEvent('keyboard_shortcut', { 
                                action: 'category_filter', 
                                key: e.key 
                            });
                        }
                    }
                });
            }

            // Accessibility improvements
            setupAccessibility() {
                // Add ARIA labels
                const searchInput = document.getElementById('writingSearch');
                if (searchInput) {
                    searchInput.setAttribute('aria-label', 'Search articles');
                    searchInput.setAttribute('role', 'searchbox');
                }

                // Add focus management for filter tabs
                const filterTabs = document.querySelectorAll('.filter-tab');
                filterTabs.forEach((tab, index) => {
                    tab.setAttribute('role', 'tab');
                    tab.setAttribute('aria-selected', tab.classList.contains('active'));
                    tab.setAttribute('tabindex', tab.classList.contains('active') ? '0' : '-1');
                    
                    // Arrow key navigation
                    tab.addEventListener('keydown', (e) => {
                        let newIndex = index;
                        
                        if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                            newIndex = (index + 1) % filterTabs.length;
                        } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                            newIndex = (index - 1 + filterTabs.length) % filterTabs.length;
                        } else if (e.key === 'Home') {
                            newIndex = 0;
                        } else if (e.key === 'End') {
                            newIndex = filterTabs.length - 1;
                        }
                        
                        if (newIndex !== index) {
                            e.preventDefault();
                            filterTabs[newIndex].focus();
                        }
                        
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            tab.click();
                        }
                    });
                });

                // Announce filter results to screen readers
                const originalFilterArticles = this.filterArticles;
                this.filterArticles = (category) => {
                    originalFilterArticles.call(this, category);
                    
                    // Announce results
                    setTimeout(() => {
                        const visibleCards = document.querySelectorAll('.writing-card[style*="display: block"], .writing-card:not([style*="display: none"])').length;
                        const announcement = document.createElement('div');
                        announcement.setAttribute('aria-live', 'polite');
                        announcement.setAttribute('aria-atomic', 'true');
                        announcement.className = 'sr-only';
                        announcement.textContent = `${visibleCards} articles found`;
                        document.body.appendChild(announcement);
                        
                        setTimeout(() => announcement.remove(), 1000);
                    }, 600);
                };
            }

            // Performance monitoring
            setupPerformanceMonitoring() {
                // Monitor page load performance
                window.addEventListener('load', () => {
                    setTimeout(() => {
                        const navigation = performance.getEntriesByType('navigation')[0];
                        if (navigation) {
                            this.trackEvent('page_performance', {
                                load_time: Math.round(navigation.loadEventEnd - navigation.loadEventStart),
                                dom_content_loaded: Math.round(navigation.domContentLoadedEventEnd - navigation.domContentLoadedEventStart),
                                total_page_load: Math.round(navigation.loadEventEnd - navigation.fetchStart)
                            });
                        }
                    }, 0);
                });

                // Monitor search performance
                const originalFilterArticles = this.filterArticles;
                this.filterArticles = (category) => {
                    const startTime = performance.now();
                    originalFilterArticles.call(this, category);
                    const endTime = performance.now();
                    
                    this.trackEvent('filter_performance', {
                        duration_ms: Math.round(endTime - startTime),
                        category: category,
                        search_term: this.searchTerm
                    });
                };
            }

            // Error handling
            setupErrorHandling() {
                window.addEventListener('error', (e) => {
                    this.trackEvent('javascript_error', {
                        message: e.message,
                        filename: e.filename,
                        line: e.lineno,
                        column: e.colno
                    });
                });

                window.addEventListener('unhandledrejection', (e) => {
                    this.trackEvent('promise_rejection', {
                        reason: e.reason?.toString() || 'Unknown promise rejection'
                    });
                });
            }

            // Initialize all setup methods
            initializeAllFeatures() {
                this.setupKeyboardShortcuts();
                this.setupAccessibility();
                this.setupPerformanceMonitoring();
                this.setupErrorHandling();
            }
        }

        // Initialize Writing Showcase Manager
        document.addEventListener('DOMContentLoaded', () => {
            window.writingManager = new WritingShowcaseManager();
            window.writingManager.initializeAllFeatures();
            
            // Theme change listener
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                themeToggle.addEventListener('click', () => {
                    setTimeout(() => {
                        const isDark = document.body.classList.contains('dark-theme');
                        window.writingManager.updateTheme(isDark);
                    }, 100);
                });
            }
            
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                        
                        window.writingManager.trackEvent('anchor_click', {
                            target_id: this.getAttribute('href')
                        });
                    }
                });
            });

            // Add loading states to all interactive elements
            document.querySelectorAll('button, .btn').forEach(btn => {
                if (!btn.classList.contains('no-loading')) {
                    btn.addEventListener('click', function() {
                        if (!this.disabled) {
                            this.style.position = 'relative';
                            this.style.overflow = 'hidden';
                            
                            const ripple = document.createElement('span');
                            ripple.style.cssText = `
                                position: absolute;
                                background: rgba(255,255,255,0.3);
                                border-radius: 50%;
                                transform: scale(0);
                                animation: ripple 0.6s linear;
                                pointer-events: none;
                            `;
                            
                            const rect = this.getBoundingClientRect();
                            const size = Math.max(rect.width, rect.height);
                            ripple.style.width = ripple.style.height = size + 'px';
                            ripple.style.left = (rect.width / 2 - size / 2) + 'px';
                            ripple.style.top = (rect.height / 2 - size / 2) + 'px';
                            
                            this.appendChild(ripple);
                            setTimeout(() => ripple.remove(), 600);
                        }
                    });
                }
            });

            // Add CSS for ripple animation if not already present
            if (!document.querySelector('#ripple-styles')) {
                const style = document.createElement('style');
                style.id = 'ripple-styles';
                style.textContent = `
                    @keyframes ripple {
                        to {
                            transform: scale(4);
                            opacity: 0;
                        }
                    }
                    
                    .sr-only {
                        position: absolute !important;
                        width: 1px !important;
                        height: 1px !important;
                        padding: 0 !important;
                        margin: -1px !important;
                        overflow: hidden !important;
                        clip: rect(0, 0, 0, 0) !important;
                        white-space: nowrap !important;
                        border: 0 !important;
                    }
                `;
                document.head.appendChild(style);
            }

            console.log('✅ Writing Showcase initialized successfully');
        });

        // Expose global functions for inline event handlers
        window.toggleEmbedView = () => {
            if (window.writingManager && typeof window.writingManager.setupEmbedToggle === 'function') {
                // The setupEmbedToggle method creates the toggleEmbedView function
                return;
            }
        };

        // Export functions for external use
        if (typeof module !== 'undefined' && module.exports) {
            module.exports = WritingShowcaseManager;
        }
    </script>

    <!-- Additional CSS for enhanced features -->
    <style>
        /* Enhanced Search Styles */
        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 0.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 0.5rem;
        }

        .dark-theme .search-suggestions {
            background: var(--dark-surface);
            border-color: var(--dark-border);
        }

        .suggestion-item {
            padding: 0.75rem 1rem;
            cursor: pointer;
            transition: background 0.2s ease;
            border-bottom: 1px solid var(--gray-100);
        }

        .dark-theme .suggestion-item {
            border-bottom-color: var(--dark-border);
        }

        .suggestion-item:hover {
            background: var(--gray-50);
        }

        .dark-theme .suggestion-item:hover {
            background: var(--dark-card);
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }

        /* Results Count */
        .results-count {
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-bottom: 2rem;
            font-weight: 500;
            padding: 1rem;
            background: var(--gray-50);
            border-radius: 0.5rem;
            border: 1px solid var(--gray-200);
        }

        .dark-theme .results-count {
            color: var(--dark-text-secondary);
            background: var(--dark-surface);
            border-color: var(--dark-border);
        }

        /* Social Share Buttons */
        .social-share {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--gray-200);
            justify-content: center;
        }

        .dark-theme .social-share {
            border-top-color: var(--dark-border);
        }

        .share-btn {
            background: var(--gray-100);
            color: var(--text-secondary);
            border: none;
            padding: 0.5rem;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .dark-theme .share-btn {
            background: var(--dark-border);
            color: var(--dark-text-secondary);
        }

        .share-btn:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        /* Notification System */
        .notification {
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 0.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            padding: 1rem;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            z-index: 1000;
            min-width: 300px;
            max-width: 400px;
        }

        .dark-theme .notification {
            background: var(--dark-surface);
            border-color: var(--dark-border);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-left: 4px solid var(--success-color);
        }

        .notification.error {
            border-left: 4px solid var(--error-color);
        }

        .notification.info {
            border-left: 4px solid #3b82f6;
        }

        .notification-content {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .notification-content i:first-child {
            font-size: 1.25rem;
        }

        .notification.success .notification-content i:first-child {
            color: var(--success-color);
        }

        .notification.error .notification-content i:first-child {
            color: var(--error-color);
        }

        .notification.info .notification-content i:first-child {
            color: #3b82f6;
        }

        .notification-content span {
            flex: 1;
            color: var(--text-primary);
        }

        .dark-theme .notification-content span {
            color: var(--dark-text);
        }

        .notification-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 0.25rem;
            transition: all 0.2s ease;
        }

        .dark-theme .notification-close {
            color: var(--dark-text-secondary);
        }

        .notification-close:hover {
            background: var(--gray-100);
            color: var(--text-primary);
        }

        .dark-theme .notification-close:hover {
            background: var(--dark-border);
            color: var(--dark-text);
        }

        /* Mobile Optimizations */
        @media (max-width: 768px) {
            .search-container {
                margin: 0 1rem;
            }
            
            .notification {
                top: 1rem;
                right: 1rem;
                left: 1rem;
                transform: translateY(-100%);
                min-width: auto;
            }
            
            .notification.show {
                transform: translateY(0);
            }
            
            .social-share {
                justify-content: center;
            }
            
            .hero-stats {
                grid-template-columns: 1fr;
            }
            
            .filter-tabs {
                justify-content: flex-start;
                overflow-x: auto;
                padding-bottom: 1rem;
                scrollbar-width: thin;
            }
            
            .filter-tabs::-webkit-scrollbar {
                height: 4px;
            }
            
            .filter-tabs::-webkit-scrollbar-track {
                background: var(--gray-100);
                border-radius: 2px;
            }
            
            .filter-tabs::-webkit-scrollbar-thumb {
                background: var(--primary-color);
                border-radius: 2px;
            }
        }

        /* Focus styles for accessibility */
        .filter-tab:focus,
        .share-btn:focus,
        .btn:focus,
        input:focus {
            outline: 2px solid var(--primary-color);
            outline-offset: 2px;
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .writing-card {
                border-width: 2px;
                border-color: var(--text-primary);
            }
            
            .btn {
                border: 2px solid currentColor;
            }
            
            .tag {
                border: 1px solid currentColor;
            }
        }

        /* Print styles */
        @media print {
            .hero-section,
            .newsletter-section,
            .load-more-section,
            .social-share,
            .search-section,
            .category-filter,
            .reading-progress {
                display: none !important;
            }
            
            .writing-card {
                box-shadow: none;
                border: 2px solid #000;
                break-inside: avoid;
                margin-bottom: 2rem;
                page-break-inside: avoid;
            }
            
            .card-image {
                max-height: 200px;
            }
            
            .featured-card {
                border: 2px solid #000;
                box-shadow: none;
            }
            
            body {
                font-size: 12pt;
                line-height: 1.4;
            }
            
            .section-title {
                font-size: 18pt;
                margin-bottom: 1rem;
            }
            
            .card-title {
                font-size: 14pt;
            }
        }
                    // Debounced analytics
                    clearTimeout(this.searchTimeout);
                    this.searchTimeout = setTimeout(() => {
                        this.trackEvent('search', {
                            search_term: this.searchTerm,
                            results_count: document.querySelectorAll('.writing-card[style*="display: block"]').length
                        });
                    }, 1000);
                });
                
                // Clear search
                if (clearButton) {
                    clearButton.addEventListener('click', () => {
                        searchInput.value = '';
                        this.searchTerm = '';
                        clearButton.style.display = 'none';
                        this.filterArticles(this.activeCategory);
                    });
                }
            }

            updateResultsCount(count) {
                let countElement = document.querySelector('.results-count');
                if (!countElement) {
                    countElement = document.createElement('div');
                    countElement.className = 'results-count';
                    const gridContainer = document.querySelector('.writing-cards-container');
                    if (gridContainer) {
                        gridContainer.parentElement.insertBefore(countElement, gridContainer);
                    }
                }
                
                countElement.textContent = `${count} article${count !== 1 ? 's' : ''} found`;
                countElement.style.display = count === 0 ? 'none' : 'block';
            }

            setupIntersectionObserver() {
                const observerOptions = {
                    threshold: 0.1,
                    rootMargin: '0px 0px -50px 0px'
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                            
                            // Track section views
                            const sectionName = entry.target.className.split(' ')[0];
                            this.trackEvent('section_view', {
                                section: sectionName
                            });
                        }
                    });
                }, observerOptions);

                // Observe sections and cards
                document.querySelectorAll('.writing-card, .stat-card, .featured-card, .hero-section, .newsletter-section').forEach(el => {
                    el.classList.add('fade-in');
                    observer.observe(el);
                });
            }

            setupNewsletterForm() {
                const form = document.querySelector('.newsletter-form');
                if (!form) return;
                
                form.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    
                    const email = form.querySelector('input[type="email"]').value;
                    const button = form.querySelector('button[type="submit"]');
                    const originalHTML = button.innerHTML;
                    
                    // Validate email
                    if (!this.isValidEmail(email)) {
                        this.showNotification('Please enter a valid email address', 'error');
                        return;
                    }
                    
                    // Show loading state
                    button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Subscribing...';
                    button.disabled = true;
                    
                    try {
                        // Simulate API call
                        await this.subscribeToNewsletter(email);
                        
                        // Success state
                        button.innerHTML = '<i class="fas fa-check"></i> Subscribed!';
                        this.showNotification('Successfully subscribed to newsletter!', 'success');
                        
                        // Track conversion
                        this.trackEvent('newsletter_signup', {
                            source: 'writing_showcase',
                            email_domain: email.split('@')[1]
                        });
                        
                        // Reset form after delay
                        setTimeout(() => {
                            form.reset();
                            button.innerHTML = originalHTML;
                            button.disabled = false;
                        }, 3000);
                        
                    } catch (error) {
                        // Error state
                        button.innerHTML = originalHTML;
                        button.disabled = false;
                        this.showNotification('Subscription failed. Please try again.', 'error');
                        
                        this.trackEvent('newsletter_error', {
                            error: error.message
                        });
                    }
                });
            }

            async subscribeToNewsletter(email) {
                // Simulate API call
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        // Simulate 90% success rate
                        if (Math.random() > 0.1) {
                            resolve({ success: true });
                        } else {
                            reject(new Error('Network error'));
                        }
                    }, 2000);
                });
            }

            isValidEmail(email) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(email);
            }

            setupEmbedToggle() {
                // This function is called by the onclick handler
                window.toggleEmbedView = () => {
                    const embedContainer = document.getElementById('embedContainer');
                    const placeholder = document.getElementById('previewPlaceholder');
                    const button = document.querySelector('[onclick="toggleEmbedView()"]');
                    
                    if (embedContainer && placeholder && button) {
                        if (embedContainer.style.display === 'none' || !embedContainer.style.display) {
                            embedContainer.style.display = 'block';
                            placeholder.style.display = 'none';
                            button.innerHTML = '<i class="fas fa-eye-slash"></i> Hide Embedded';
                            
                            this.trackEvent('embed_view', {
                                action: 'show'
                            });
                        } else {
                            embedContainer.style.display = 'none';
                            placeholder.style.display = 'flex';
                            button.innerHTML = '<i class="fas fa-code"></i> View Embedded';
                            
                            this.trackEvent('embed_view', {
                                action: 'hide'
                            });
                        }
                    }
                };
            }

            setupSocialSharing() {
                // Add social share buttons to articles
                document.querySelectorAll('.writing-card').forEach(card => {
                    const socialHTML = `
                        <div class="social-share">
                            <button class="share-btn" onclick="window.writingManager.shareArticle('twitter', this)" data-platform="twitter">
                                <i class="fab fa-twitter"></i>
                            </button>
                            <button class="share-btn" onclick="window.writingManager.shareArticle('linkedin', this)" data-platform="linkedin">
                                <i class="fab fa-linkedin"></i>
                            </button>
                            <button class="share-btn" onclick="window.writingManager.shareArticle('copy', this)" data-platform="copy">
                                <i class="fas fa-link"></i>
                            </button>
                        </div>
                    `;
                    
                    card.querySelector('.card-content').insertAdjacentHTML('beforeend', socialHTML);
                });
            }

            shareArticle(platform, button) {
                const card = button.closest('.writing-card');
                const title = card.querySelector('.card-title').textContent;
                const url = window.location.href; // In real app, this would be the article URL
                
                switch (platform) {
                    case 'twitter':
                        window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(title)}&url=${encodeURIComponent(url)}`);
                        break;
                    case 'linkedin':
                        window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`);
                        break;
                    case 'copy':
                        navigator.clipboard.writeText(url).then(() => {
                            this.showNotification('Link copied to clipboard!', 'success');
                        });
                        break;
                }
                
                this.trackEvent('social_share', {
                    platform: platform,
                    article_title: title
                });
            }

            setupReadingProgress() {
                // Update progress on scroll
                window.addEventListener('scroll', () => {
                    const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
                    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                    const scrolled = (winScroll / height) * 100;
                    
                    const progressFill = document.querySelector('.progress-fill');
                    if (progressFill) {
                        progressFill.style.width = scrolled + '%';
                    }
                    
                    // Track reading progress milestones
                    if (scrolled > 25 && !this.tracked25) {
                        this.trackEvent('reading_progress', { milestone: '25%' });
                        this.tracked25 = true;
                    }
                    if (scrolled > 50 && !this.tracked50) {
                        this.trackEvent('reading_progress', { milestone: '50%' });
                        this.tracked50 = true;
                    }
                    if (scrolled > 75 && !this.tracked75) {
                        this.trackEvent('reading_progress', { milestone: '75%' });
                        this.tracked75 = true;
                    }
                });
            }

            setupAnalytics() {
                // Track article clicks
                document.querySelectorAll('.writing-card .read-more').forEach(link => {
                    link.addEventListener('click', (e) => {
                        const card = e.target.closest('.writing-card');
                        const title = card.querySelector('.card-title').textContent;
                        const category = card.dataset.category;
                        this.trackEvent('article_click', {
                            article_title: title,
                            category: category,
                            position: Array.from(document.querySelectorAll('.writing-card')).indexOf(card) + 1
                        });
                    });
                });
                
                // Track time on page
                window.addEventListener('beforeunload', () => {
                    const timeSpent = Math.round((Date.now() - this.startTime) / 1000);
                    this.trackEvent('time_on_page', {
                        duration_seconds: timeSpent
                    });
                });
            }

            loadArticles() {
                // This would typically load articles from an API
                // For now, we'll work with existing static content
                this.totalArticles = document.querySelectorAll('.writing-card').length;
                this.updateResultsCount(this.totalArticles);
            }

            showNotification(message, type = 'success') {
                // Remove existing notifications
                document.querySelectorAll('.notification').forEach(n => n.remove());
                
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <div class="notification-content">
                        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-triangle' : 'info-circle'}"></i>
                        <span>${message}</span>
                        <button class="notification-close" onclick="this.parentElement.parentElement.remove()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `;
                
                document.body.appendChild(notification);

                // Auto-show
                setTimeout(() => notification.classList.add('show'), 100);
                
                // Auto-hide after 5 seconds
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => notification.remove(), 300);
                }, 5000);
            }

            trackEvent(eventName, parameters = {}) {
                // Google Analytics 4 tracking
                if (typeof gtag !== 'undefined') {
                    gtag('event', eventName, {
                        event_category: 'writing_showcase',
                        ...parameters
                    });
                }
                
                // Console log for development
                console.log(`📊 Event: ${eventName}`, parameters);
            }

            // Load more articles (for pagination)
            async loadMoreArticles() {
                const loadMoreBtn = document.querySelector('.load-more-btn');
                if (!loadMoreBtn) return;
                
                const originalHTML = loadMoreBtn.innerHTML;
                loadMoreBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';
                loadMoreBtn.disabled = true;
                
                try {
                    // Simulate API call
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    
                    // In real app, append new articles here
                    this.showNotification('No more articles to load', 'info');
                    loadMoreBtn.style.display = 'none';
                    
                    this.trackEvent('load_more_articles', {
                        current_count: this.totalArticles
                    });
                    
                } catch (error) {
                    loadMoreBtn.innerHTML = originalHTML;
                    loadMoreBtn.disabled = false;
                    this.showNotification('Failed to load more articles', 'error');
                }
            }

            // Theme integration
            updateTheme(isDark) {
                // Update iframe theme
                const iframe = document.querySelector('iframe');
                if (iframe) {
                    const currentSrc = iframe.src;
                    const themeParam = isDark ? 'theme-id=dark' : 'theme-id=light';
                    
                    if (currentSrc.includes('theme-id')) {
                        iframe.src = currentSrc.replace(/theme-id=(dark|light)/, themeParam);
                    } else {
                        iframe.src = currentSrc + '&' + themeParam;
                    }
                }
                
                this.trackEvent('theme_change', {
                    theme: isDark ? 'dark' : 'light'
                });
            }

            // Keyboard shortcuts
            setupKeyboardShortcuts() {
                document.addEventListener('keydown', (e) => {
                    // Ctrl/Cmd + K for search
                    if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                        e.preventDefault();
                        const searchInput = document.getElementById('writingSearch');
                        if (searchInput) {
                            searchInput.focus();
                            this.trackEvent('keyboard_shortcut', { action: 'search_focus' });
                        }
                    }
                    
                    // Escape to clear search
                    if (e.key === 'Escape') {
                        const searchInput = document.getElementById('writingSearch');
                        if (searchInput && searchInput === document.activeElement) {
                            searchInput.value = '';
                            this.searchTerm = '';
                            const clearButton = document.getElementById('clearSearch');
                            if (clearButton) clearButton.style.display = 'none';
                            this.filterArticles(this.activeCategory);
                            this.trackEvent('keyboard_shortcut', { action: 'search_clear' });
                        }
                    }
                    
                    // Number keys for category filters
                    if (e.key >= '1' && e.key <= '6' && !e.ctrlKey && !e.metaKey && !e.altKey) {
                        const filterTabs = document.querySelectorAll('.filter-tab');
                        const index = parseInt(e.key) - 1;
                        if (filterTabs[index]) {
                            filterTabs[index].click();
                            this.trackEvent('keyboard_shortcut', { 
                                action: 'category_filter', 
                                key: e.key 
                            });
                        }
                    }
                });
            }

            // Accessibility improvements
            setupAccessibility() {
                // Add ARIA labels
                const searchInput = document.getElementById('writingSearch');
                if (searchInput) {
                    searchInput.setAttribute('aria-label', 'Search articles');
                    searchInput.setAttribute('role', 'searchbox');
                }

                // Add focus management for filter tabs
                const filterTabs = document.querySelectorAll('.filter-tab');
                filterTabs.forEach((tab, index) => {
                    tab.setAttribute('role', 'tab');
                    tab.setAttribute('aria-selected', tab.classList.contains('active'));
                    tab.setAttribute('tabindex', tab.classList.contains('active') ? '0' : '-1');
                    
                    // Arrow key navigation
                    tab.addEventListener('keydown', (e) => {
                        let newIndex = index;
                        
                        if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                            newIndex = (index + 1) % filterTabs.length;
                        } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                            newIndex = (index - 1 + filterTabs.length) % filterTabs.length;
                        } else if (e.key === 'Home') {
                            newIndex = 0;
                        } else if (e.key === 'End') {
                            newIndex = filterTabs.length - 1;
                        }
                        
                        if (newIndex !== index) {
                            e.preventDefault();
                            filterTabs[newIndex].focus();
                        }
                        
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            tab.click();
                        }
                    });
                });

                // Announce filter results to screen readers
                const originalFilterArticles = this.filterArticles;
                this.filterArticles = (category) => {
                    originalFilterArticles.call(this, category);
                    
                    // Announce results
                    setTimeout(() => {
                        const visibleCards = document.querySelectorAll('.writing-card[style*="display: block"], .writing-card:not([style*="display: none"])').length;
                        const announcement = document.createElement('div');
                        announcement.setAttribute('aria-live', 'polite');
                        announcement.setAttribute('aria-atomic', 'true');
                        announcement.className = 'sr-only';
                        announcement.textContent = `${visibleCards} articles found`;
                        document.body.appendChild(announcement);
                        
                        setTimeout(() => announcement.remove(), 1000);
                    }, 600);
                };
            }

            // Performance monitoring
            setupPerformanceMonitoring() {
                // Monitor page load performance
                window.addEventListener('load', () => {
                    setTimeout(() => {
                        const navigation = performance.getEntriesByType('navigation')[0];
                        if (navigation) {
                            this.trackEvent('page_performance', {
                                load_time: Math.round(navigation.loadEventEnd - navigation.loadEventStart),
                                dom_content_loaded: Math.round(navigation.domContentLoadedEventEnd - navigation.domContentLoadedEventStart),
                                total_page_load: Math.round(navigation.loadEventEnd - navigation.fetchStart)
                            });
                        }
                    }, 0);
                });

                // Monitor search performance
                const originalFilterArticles = this.filterArticles;
                this.filterArticles = (category) => {
                    const startTime = performance.now();
                    originalFilterArticles.call(this, category);
                    const endTime = performance.now();
                    
                    this.trackEvent('filter_performance', {
                        duration_ms: Math.round(endTime - startTime),
                        category: category,
                        search_term: this.searchTerm
                    });
                };
            }

            // Error handling
            setupErrorHandling() {
                window.addEventListener('error', (e) => {
                    this.trackEvent('javascript_error', {
                        message: e.message,
                        filename: e.filename,
                        line: e.lineno,
                        column: e.colno
                    });
                });

                window.addEventListener('unhandledrejection', (e) => {
                    this.trackEvent('promise_rejection', {
                        reason: e.reason?.toString() || 'Unknown promise rejection'
                    });
                });
            }

            // Initialize all setup methods
            initializeAllFeatures() {
                this.setupKeyboardShortcuts();
                this.setupAccessibility();
                this.setupPerformanceMonitoring();
                this.setupErrorHandling();
            }
        }

        // Initialize Writing Showcase Manager
        document.addEventListener('DOMContentLoaded', () => {
            window.writingManager = new WritingShowcaseManager();
            window.writingManager.initializeAllFeatures();
            
            // Theme change listener
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                themeToggle.addEventListener('click', () => {
                    setTimeout(() => {
                        const isDark = document.body.classList.contains('dark-theme');
                        window.writingManager.updateTheme(isDark);
                    }, 100);
                });
            }
            
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                        
                        window.writingManager.trackEvent('anchor_click', {
                            target_id: this.getAttribute('href')
                        });
                    }
                });
            });

            // Add loading states to all interactive elements
            document.querySelectorAll('button, .btn').forEach(btn => {
                if (!btn.classList.contains('no-loading')) {
                    btn.addEventListener('click', function() {
                        if (!this.disabled) {
                            this.style.position = 'relative';
                            this.style.overflow = 'hidden';
                            
                            const ripple = document.createElement('span');
                            ripple.style.cssText = `
                                position: absolute;
                                background: rgba(255,255,255,0.3);
                                border-radius: 50%;
                                transform: scale(0);
                                animation: ripple 0.6s linear;
                                pointer-events: none;
                            `;
                            
                            const rect = this.getBoundingClientRect();
                            const size = Math.max(rect.width, rect.height);
                            ripple.style.width = ripple.style.height = size + 'px';
                            ripple.style.left = (rect.width / 2 - size / 2) + 'px';
                            ripple.style.top = (rect.height / 2 - size / 2) + 'px';
                            
                            this.appendChild(ripple);
                            setTimeout(() => ripple.remove(), 600);
                        }
                    });
                }
            });

            // Add CSS for ripple animation if not already present
            if (!document.querySelector('#ripple-styles')) {
                const style = document.createElement('style');
                style.id = 'ripple-styles';
                style.textContent = `
                    @keyframes ripple {
                        to {
                            transform: scale(4);
                            opacity: 0;
                        }
                    }
                    
                    .sr-only {
                        position: absolute !important;
                        width: 1px !important;
                        height: 1px !important;
                        padding: 0 !important;
                        margin: -1px !important;
                        overflow: hidden !important;
                        clip: rect(0, 0, 0, 0) !important;
                        white-space: nowrap !important;
                        border: 0 !important;
                    }
                `;
                document.head.appendChild(style);
            }

            console.log('✅ Writing Showcase initialized successfully');
        });

        // Expose global functions for inline event handlers
        window.toggleEmbedView = () => {
            if (window.writingManager && typeof window.writingManager.setupEmbedToggle === 'function') {
                // The setupEmbedToggle method creates the toggleEmbedView function
                return;
            }
        };

        // Export functions for external use
        if (typeof module !== 'undefined' && module.exports) {
            module.exports = WritingShowcaseManager;
        }
    </script>

    <!-- Additional CSS for enhanced features -->
    <style>
        /* Enhanced Search Styles */
        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 0.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 0.5rem;
        }

        .dark-theme .search-suggestions {
            background: var(--dark-surface);
            border-color: var(--dark-border);
        }

        .suggestion-item {
            padding: 0.75rem 1rem;
            cursor: pointer;
            transition: background 0.2s ease;
            border-bottom: 1px solid var(--gray-100);
        }

        .dark-theme .suggestion-item {
            border-bottom-color: var(--dark-border);
        }

        .suggestion-item:hover {
            background: var(--gray-50);
        }

        .dark-theme .suggestion-item:hover {
            background: var(--dark-card);
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }

        /* Results Count */
        .results-count {
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-bottom: 2rem;
            font-weight: 500;
            padding: 1rem;
            background: var(--gray-50);
            border-radius: 0.5rem;
            border: 1px solid var(--gray-200);
        }

        .dark-theme .results-count {
            color: var(--dark-text-secondary);
            background: var(--dark-surface);
            border-color: var(--dark-border);
        }

        /* Social Share Buttons */
        .social-share {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--gray-200);
            justify-content: center;
        }

        .dark-theme .social-share {
            border-top-color: var(--dark-border);
        }

        .share-btn {
            background: var(--gray-100);
            color: var(--text-secondary);
            border: none;
            padding: 0.5rem;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .dark-theme .share-btn {
            background: var(--dark-border);
            color: var(--dark-text-secondary);
        }

        .share-btn:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        /* Notification System */
        .notification {
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 0.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            padding: 1rem;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            z-index: 1000;
            min-width: 300px;
            max-width: 400px;
        }

        .dark-theme .notification {
            background: var(--dark-surface);
            border-color: var(--dark-border);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-left: 4px solid var(--success-color);
        }

        .notification.error {
            border-left: 4px solid var(--error-color);
        }

        .notification.info {
            border-left: 4px solid #3b82f6;
        }

        .notification-content {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .notification-content i:first-child {
            font-size: 1.25rem;
        }

        .notification.success .notification-content i:first-child {
            color: var(--success-color);
        }

        .notification.error .notification-content i:first-child {
            color: var(--error-color);
        }

        .notification.info .notification-content i:first-child {
            color: #3b82f6;
        }

        .notification-content span {
            flex: 1;
            color: var(--text-primary);
        }

        .dark-theme .notification-content span {
            color: var(--dark-text);
        }

        .notification-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 0.25rem;
            transition: all 0.2s ease;
        }

        .dark-theme .notification-close {
            color: var(--dark-text-secondary);
        }

        .notification-close:hover {
            background: var(--gray-100);
            color: var(--text-primary);
        }

        .dark-theme .notification-close:hover {
            background: var(--dark-border);
            color: var(--dark-text);
        }

        /* Mobile Optimizations */
        @media (max-width: 768px) {
            .search-container {
                margin: 0 1rem;
            }
            
            .notification {
                top: 1rem;
                right: 1rem;
                left: 1rem;
                transform: translateY(-100%);
                min-width: auto;
            }
            
            .notification.show {
                transform: translateY(0);
            }
            
            .social-share {
                justify-content: center;
            }
            
            .hero-stats {
                grid-template-columns: 1fr;
            }
            
            .filter-tabs {
                justify-content: flex-start;
                overflow-x: auto;
                padding-bottom: 1rem;
                scrollbar-width: thin;
            }
            
            .filter-tabs::-webkit-scrollbar {
                height: 4px;
            }
            
            .filter-tabs::-webkit-scrollbar-track {
                background: var(--gray-100);
                border-radius: 2px;
            }
            
            .filter-tabs::-webkit-scrollbar-thumb {
                background: var(--primary-color);
                border-radius: 2px;
            }
        }

        /* Focus styles for accessibility */
        .filter-tab:focus,
        .share-btn:focus,
        .btn:focus,
        input:focus {
            outline: 2px solid var(--primary-color);
            outline-offset: 2px;
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .writing-card {
                border-width: 2px;
                border-color: var(--text-primary);
            }
            
            .btn {
                border: 2px solid currentColor;
            }
            
            .tag {
                border: 1px solid currentColor;
            }
        }

        /* Print styles */
        @media print {
            .hero-section,
            .newsletter-section,
            .load-more-section,
            .social-share,
            .search-section,
            .category-filter,
            .reading-progress {
                display: none !important;
            }
            
            .writing-card {
                box-shadow: none;
                border: 2px solid #000;
                break-inside: avoid;
                margin-bottom: 2rem;
                page-break-inside: avoid;
            }
            
            .card-image {
                max-height: 200px;
            }
            
            .featured-card {
                border: 2px solid #000;
                box-shadow: none;
            }
            
            body {
                font-size: 12pt;
                line-height: 1.4;
            }
            
            .section-title {
                font-size: 18pt;
                margin-bottom: 1rem;
            }
            
            .card-title {
                font-size: 14pt;
            }
        }
    </style>
</body>
</html>

